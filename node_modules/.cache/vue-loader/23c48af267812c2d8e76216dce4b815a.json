{"remainingRequest":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\ALL-in\\Career Module\\vue-career-module\\src\\views\\Admin\\ModuleCreate.vue?vue&type=style&index=0&id=14e940c7&scoped=true&lang=css","dependencies":[{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\src\\views\\Admin\\ModuleCreate.vue","mtime":1648779932626},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\css-loader\\dist\\cjs.js","mtime":1648779829623},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1648779911792},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\postcss-loader\\src\\index.js","mtime":1648779862239},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648779824483},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1648779911669}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZmFkZS1lbnRlci1hY3RpdmUgew0KICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXMgZWFzZTsNCn0NCg0KLmZhZGUtZW50ZXItZnJvbSB7DQogIG9wYWNpdHk6IDA7DQp9DQo="},{"version":3,"sources":["E:\\ALL-in\\Career Module\\vue-career-module\\src\\views\\Admin\\ModuleCreate.vue"],"names":[],"mappings":";AA0UA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC/B;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACZ","file":"E:/ALL-in/Career Module/vue-career-module/src/views/Admin/ModuleCreate.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div id=\"module\">\r\n    <AdminCheck></AdminCheck>\r\n    <div class=\"container-fluid ps-0\">\r\n      <div class=\"row g-0\">\r\n        <transition name=\"slide\">\r\n          <div\r\n            :class=\"sidebar\"\r\n            class=\"sidebar-admin sticky-top\"\r\n            v-if=\"sidebarStatus\"\r\n          >\r\n            <AdminSidebar :display=\"sidebarToggle\" menu=\"module\"></AdminSidebar>\r\n          </div>\r\n        </transition>\r\n        <div :class=\"header\">\r\n          <AdminHeader :display=\"sidebarToggle\"></AdminHeader>\r\n          <transition name=\"fade\">\r\n            <div class=\"container\" v-if=\"!showing\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"text-center my-5\">\r\n                    <vue-feather\r\n                      type=\"loader\"\r\n                      size=\"50\"\r\n                      animation=\"spin\"\r\n                    ></vue-feather>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n          <!-- Stepper  -->\r\n          <transition name=\"fade\">\r\n            <div class=\"container sticky-top bg-white\" v-if=\"showing\">\r\n              <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-8\">\r\n                  <ul class=\"Container-progessbar\">\r\n                    <li\r\n                      :class=\"\r\n                        section == 1 ? 'active' : progress > 0 ? 'status' : ''\r\n                      \"\r\n                    >\r\n                      Module\r\n                    </li>\r\n                    <li\r\n                      :class=\"\r\n                        section == 2 ? 'active' : progress > 1 ? 'status' : ''\r\n                      \"\r\n                    >\r\n                      Outline\r\n                    </li>\r\n                    <li\r\n                      :class=\"\r\n                        section == 3 ? 'active' : progress > 2 ? 'status' : ''\r\n                      \"\r\n                    >\r\n                      Part\r\n                    </li>\r\n                    <li\r\n                      :class=\"\r\n                        section == 4 ? 'active' : progress > 3 ? 'status' : ''\r\n                      \"\r\n                    >\r\n                      Element\r\n                    </li>\r\n                    <li\r\n                      :class=\"\r\n                        section == 5 ? 'active' : progress > 4 ? 'status' : ''\r\n                      \"\r\n                    >\r\n                      Complete\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n\r\n          <transition name=\"fade\" v-if=\"showing && module.id\">\r\n            <div class=\"container px-md-3 px-2 mt-2\">\r\n              <div class=\"text-end\">\r\n                <button\r\n                  v-if=\"progress >= 4\"\r\n                  @click=\"preview()\"\r\n                  class=\"btn btn-admin bg-white mx-2 border border-success\"\r\n                >\r\n                  <vue-feather type=\"clipboard\" class=\"me-2\"></vue-feather>\r\n                  Preview\r\n                </button>\r\n                <button\r\n                  v-if=\"module.status != 0\"\r\n                  class=\"\r\n                    btn btn-admin\r\n                    bg-white\r\n                    mx-0\r\n                    border border-primary\r\n                    dropdown-toggle\r\n                  \"\r\n                  data-bs-toggle=\"dropdown\"\r\n                >\r\n                  <vue-feather type=\"settings\" class=\"me-2\"></vue-feather>\r\n                </button>\r\n                <ul class=\"dropdown-menu\">\r\n                  <li v-if=\"module.id && module.status == 1\">\r\n                    <span\r\n                      class=\"dropdown-item pointer\"\r\n                      @click=\"changeActivate(module.id, 2)\"\r\n                    >\r\n                      <vue-feather class=\"pe-2\" type=\"eye-off\"></vue-feather>\r\n                      Deactivate\r\n                    </span>\r\n                  </li>\r\n                  <li\r\n                    v-if=\"\r\n                      (module.id && module.status == 2) ||\r\n                      (module.id && module.status == 3)\r\n                    \"\r\n                  >\r\n                    <span\r\n                      class=\"dropdown-item pointer\"\r\n                      @click=\"changeActivate(module.id, 1)\"\r\n                    >\r\n                      <vue-feather class=\"pe-2\" type=\"eye\"></vue-feather>\r\n                      Activate\r\n                    </span>\r\n                  </li>\r\n                  <li v-if=\"module.id && module.status == 1\">\r\n                    <span\r\n                      class=\"dropdown-item pointer\"\r\n                      @click=\"changeActivate(module.id, 3)\"\r\n                    >\r\n                      <vue-feather class=\"pe-2\" type=\"lock\"></vue-feather>\r\n                      Lock\r\n                    </span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n\r\n          <transition name=\"fade\">\r\n            <v-module\r\n              @check-section=\"checkSection\"\r\n              @check-progress=\"checkProgress\"\r\n              v-if=\"showing && section == 1\"\r\n            >\r\n            </v-module>\r\n          </transition>\r\n\r\n          <transition name=\"fade\">\r\n            <v-outline\r\n              @check-section=\"checkSection\"\r\n              @check-progress=\"checkProgress\"\r\n              v-if=\"showing && section == 2\"\r\n            ></v-outline>\r\n          </transition>\r\n\r\n          <transition name=\"fade\">\r\n            <v-part\r\n              @check-section=\"checkSection\"\r\n              @check-progress=\"checkProgress\"\r\n              v-if=\"showing && section == 3\"\r\n            ></v-part>\r\n          </transition>\r\n\r\n          <transition name=\"fade\">\r\n            <v-element\r\n              @check-section=\"checkSection\"\r\n              @check-progress=\"checkProgress\"\r\n              v-if=\"showing && section == 4\"\r\n            ></v-element>\r\n          </transition>\r\n\r\n          <transition name=\"fade\">\r\n            <v-preview\r\n              @check-status=\"checkStatus\"\r\n              @check-section=\"checkSection\"\r\n              @check-progress=\"checkProgress\"\r\n              v-if=\"showing && section == 5\"\r\n            ></v-preview>\r\n          </transition>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AdminCheck from \"@/components/Admin/UserCheck\";\r\nimport AdminHeader from \"@/components/Admin/Header\";\r\nimport AdminSidebar from \"@/components/Admin/Sidebar\";\r\n\r\nimport Module from \"@/components/Admin/Module/Module\";\r\nimport Outline from \"@/components/Admin/Module/Outline\";\r\nimport Part from \"@/components/Admin/Module/Part\";\r\nimport Element from \"@/components/Admin/Module/Element\";\r\nimport Preview from \"@/components/Admin/Module/Preview\";\r\n\r\nimport VueFeather from \"vue-feather\";\r\nimport Swal from \"sweetalert2\";\r\nimport qs from \"qs\";\r\n\r\nimport \"@/assets/css/stepper.css\";\r\n\r\nexport default {\r\n  name: \"Module Create\",\r\n  components: {\r\n    AdminCheck,\r\n    AdminHeader,\r\n    AdminSidebar,\r\n    VueFeather,\r\n    \"v-module\": Module,\r\n    \"v-outline\": Outline,\r\n    \"v-part\": Part,\r\n    \"v-element\": Element,\r\n    \"v-preview\": Preview,\r\n  },\r\n  data() {\r\n    return {\r\n      api_url: \"https://api-cm.all-inedu.com/api/v1/\",\r\n      user: [],\r\n      sidebar: \"sidebar-left\",\r\n      sidebarStatus: true,\r\n      header: \"content\",\r\n      showing: false,\r\n      module: [],\r\n      progress: \"\",\r\n      section: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    sidebarToggle() {\r\n      if (this.sidebarStatus == true) {\r\n        this.sidebarStatus = false;\r\n        this.header = \"full-content\";\r\n        this.sidebar = \"d-none\";\r\n      } else {\r\n        this.sidebarStatus = true;\r\n        this.sidebar = \"sidebar-left sidebar-mobile\";\r\n        this.header = \"content\";\r\n      }\r\n    },\r\n    reload() {\r\n      this.showing = true;\r\n    },\r\n    checkSection(data) {\r\n      this.section = data;\r\n    },\r\n    checkProgress(data) {\r\n      this.progress = data;\r\n    },\r\n    checkStatus(data) {\r\n      this.module.status = data;\r\n    },\r\n    getModuleData(id) {\r\n      this.$axios\r\n        .get(this.$api_url + \"module/\" + id, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.user.token,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          // console.log(response.data.data);\r\n          this.module = response.data.data[0];\r\n          this.progress = response.data.data[0].progress;\r\n        })\r\n        .catch(() => {\r\n          this.$alert.toast(\"warning\", \"Module id is not found\");\r\n          this.$router.push({ path: \"/admin/module\" });\r\n        });\r\n    },\r\n    changeActivate(id, s) {\r\n      let status = qs.stringify({ status: s });\r\n      let title = \"\";\r\n      if (s == 1) {\r\n        title = \"Are you sure to activate this module?\";\r\n      } else if (s == 2) {\r\n        title = \"Are you sure to deactivate this module?\";\r\n      } else {\r\n        title = \"Are you sure to lock this module?\";\r\n      }\r\n\r\n      Swal.fire({\r\n        title: \"<h5>\" + title + \"</h5>\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes\",\r\n      }).then((result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isConfirmed) {\r\n          this.$axios\r\n            .put(this.$api_url + \"module/\" + id, status, {\r\n              headers: {\r\n                \"Content-Type\":\r\n                  \"application/x-www-form-urlencoded; charset=utf-8\",\r\n                Authorization: \"Bearer \" + this.user.token,\r\n              },\r\n            })\r\n            .then((response) => {\r\n              // console.log(response.data);\r\n              Swal.close();\r\n              this.$alert.toast(\"success\", response.data.message);\r\n              this.getModuleData(id);\r\n            })\r\n            .catch((error) => {\r\n              Swal.close();\r\n              console.log(error.response);\r\n            });\r\n        }\r\n      });\r\n    },\r\n    preview() {\r\n      // this.section = 5;\r\n      window.open(\"/module/\" + this.module.slug, \"_blank\");\r\n    },\r\n  },\r\n  created() {\r\n    setTimeout(() => {\r\n      this.reload();\r\n    }, 1000);\r\n\r\n    this.user = this.$auth.check();\r\n\r\n    if (this.user) {\r\n      if (this.$route.params.module_id) {\r\n        this.getModuleData(this.$route.params.module_id);\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.fade-enter-active {\r\n  transition: opacity 0.5s ease;\r\n}\r\n\r\n.fade-enter-from {\r\n  opacity: 0;\r\n}\r\n</style>"]}]}