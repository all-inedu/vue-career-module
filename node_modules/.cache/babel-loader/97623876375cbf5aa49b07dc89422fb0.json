{"remainingRequest":"/home/all-inedu/Documents/career-module/node_modules/babel-loader/lib/index.js!/home/all-inedu/Documents/career-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/all-inedu/Documents/career-module/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/all-inedu/Documents/career-module/src/views/Auth/Admin.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/all-inedu/Documents/career-module/src/views/Auth/Admin.vue","mtime":1637142192541},{"path":"/home/all-inedu/Documents/career-module/babel.config.js","mtime":1636604189469},{"path":"/home/all-inedu/Documents/career-module/node_modules/cache-loader/dist/cjs.js","mtime":1636604085652},{"path":"/home/all-inedu/Documents/career-module/node_modules/babel-loader/lib/index.js","mtime":1636604086396},{"path":"/home/all-inedu/Documents/career-module/node_modules/cache-loader/dist/cjs.js","mtime":1636604085652},{"path":"/home/all-inedu/Documents/career-module/node_modules/vue-loader-v16/dist/index.js","mtime":1636604086392}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvYWxsLWluZWR1L0RvY3VtZW50cy9jYXJlZXItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXNldCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFwaV91cmw6ICJodHRwczovL2FwaS1jbS5hbGwtaW5lZHUuY29tL2FwaS92MS8iLAogICAgICBwYXNzd29yZFR5cGU6ICJwYXNzd29yZCIsCiAgICAgIGxvZ2luOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBlcnJvcl9sb2dpbjogW10sCiAgICAgIHVzZXI6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZygpIHsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogIlBsZWFzZSB3YWl0IGEgbWludXRlIgogICAgICB9KTsKICAgICAgU3dhbC5zaG93TG9hZGluZygpOwogICAgfSwKICAgIHRvYXN0OiBmdW5jdGlvbiB0b2FzdChzdGF0dXMsIHRpdGxlKSB7CiAgICAgIHZhciBUb2FzdCA9IFN3YWwubWl4aW4oewogICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgIHdpZHRoOiAiMzJyZW0iLAogICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXI6IHRydWUsCiAgICAgICAgZGlkT3BlbjogZnVuY3Rpb24gZGlkT3Blbih0b2FzdCkgewogICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIFN3YWwuc3RvcFRpbWVyKTsKICAgICAgICAgIHRvYXN0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBTd2FsLnJlc3VtZVRpbWVyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBUb2FzdC5maXJlKHsKICAgICAgICBpY29uOiBzdGF0dXMsCiAgICAgICAgdGl0bGU6IHRpdGxlCiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luUHJvY2VzczogZnVuY3Rpb24gbG9naW5Qcm9jZXNzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nKCk7CiAgICAgIGF4aW9zLnBvc3QodGhpcy5hcGlfdXJsICsgImxvZ2luIiwgdGhpcy5sb2dpbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBTd2FsLmNsb3NlKCk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgY29uc29sZS5sb2coIiIpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEuaXNfdmVyaWZpZWQgPT0gMSkgewogICAgICAgICAgICAvLyBsb2dpbiBzdWNjZXNzCiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CgogICAgICAgICAgICBfdGhpcy50b2FzdCgic3VjY2VzcyIsICJZb3UgaGF2ZSBzdWNjZXNzZnVsbHkgbG9nZ2VkIGluIik7CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLnJvbGVfaWQgPT0gMSkgewogICAgICAgICAgICAgIF90aGlzLnRvYXN0KCJ3YXJuaW5nIiwgIk9vcHMsIHlvdSdyZSBub3QgYWRtaW4iKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICIvIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB2ZXJpZnkKICAgICAgICAgICAgX3RoaXMudG9rZW4gPSByZXNwb25zZS5kYXRhLmRhdGEudG9rZW47CgogICAgICAgICAgICBfdGhpcy5yZXNlbmRQcm9jZXNzKCk7CgogICAgICAgICAgICBfdGhpcy50b2FzdCgid2FybmluZyIsICJQbGVhc2UsIHZlcmlmeSB5b3VyIGVtYWlsIGZpcnN0ISIpOwoKICAgICAgICAgICAgX3RoaXMuZm9ybV9uYW1lID0gInZlcmlmeSI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBTd2FsLmNsb3NlKCk7CgogICAgICAgIGlmIChfdHlwZW9mKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpID09ICJvYmplY3QiKSB7CiAgICAgICAgICBfdGhpcy5lcnJvcl9sb2dpbiA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgICAgICBTd2FsLmNsb3NlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLnRvYXN0KCJ3YXJuaW5nIiwgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CgogICAgICAgICAgX3RoaXMubG9naW4uZW1haWwgPSAiIjsKICAgICAgICAgIF90aGlzLmxvZ2luLnBhc3N3b3JkID0gIiI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB2aXNpYmxlUGFzc3dvcmQ6IGZ1bmN0aW9uIHZpc2libGVQYXNzd29yZChuYW1lcykgewogICAgICBpZiAobmFtZXMgPT0gInBhc3N3b3JkIikgewogICAgICAgIGlmICh0aGlzLnBhc3N3b3JkVHlwZSA9PSAidGV4dCIpIHsKICAgICAgICAgIHRoaXMucGFzc3dvcmRUeXBlID0gInBhc3N3b3JkIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wYXNzd29yZFR5cGUgPSAidGV4dCI7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSAhPSBudWxsKSB7CiAgICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKTsKCiAgICAgIGlmICh0aGlzLnVzZXIuZGF0YS5yb2xlX2lkID09IDEpIHsKICAgICAgICB0aGlzLnRvYXN0KCJ3YXJuaW5nIiwgIllvdSBoYXZlIGFscmVhZHkgbG9nZ2VkIGluIGFzIGEgc3R1ZGVudCIpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvIgogICAgICAgIH0pOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLnVzZXIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/all-inedu/Documents/career-module/src/views/Auth/Admin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"reset\">\n    <div class=\"container mt-5\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-4 mt-md-5\">\n          <form @submit.prevent=\"loginProcess\">\n            <div class=\"card mt-md-5\">\n              <div class=\"card-header text-center\">\n                <h4>Log In</h4>\n              </div>\n              <div class=\"card-body\">\n                <div class=\"row mt-3\">\n                  <div class=\"col-md-12\">\n                    <div class=\"mb-3\">\n                      <label class=\"login-label\">E-mail</label>\n                      <input\n                        type=\"text\"\n                        v-model=\"login.email\"\n                        class=\"form-control\"\n                        placeholder=\"E-mail\"\n                      />\n                      <p v-if=\"error_login.email\" class=\"login-error\">\n                        {{ error_login.email[0] }}\n                      </p>\n                    </div>\n                    <div class=\"mb-3\">\n                      <label class=\"login-label\">Password</label>\n                      <input\n                        :type=\"passwordType\"\n                        v-model=\"login.password\"\n                        class=\"form-control\"\n                        placeholder=\"Password\"\n                      />\n                      <div\n                        class=\"login-icon pointer\"\n                        @click=\"visiblePassword('password')\"\n                      >\n                        <unicon\n                          v-if=\"passwordType == 'password'\"\n                          name=\"eye-slash\"\n                          fill=\"royalblue\"\n                        />\n                        <unicon\n                          v-if=\"passwordType == 'text'\"\n                          name=\"eye\"\n                          fill=\"royalblue\"\n                        />\n                      </div>\n                      <p v-if=\"error_login.password\" class=\"login-error\">\n                        {{ error_login.password[0] }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"text-center my-2\">\n                  <button class=\"btn btn-allin\" type=\"submit\">Log In</button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"Reset\",\n  data() {\n    return {\n      api_url: \"https://api-cm.all-inedu.com/api/v1/\",\n      passwordType: \"password\",\n      login: {\n        email: \"\",\n        password: \"\",\n      },\n      error_login: [],\n      user: [],\n    };\n  },\n  methods: {\n    loading() {\n      Swal.fire({\n        title: \"Please wait a minute\",\n      });\n      Swal.showLoading();\n    },\n    toast(status, title) {\n      const Toast = Swal.mixin({\n        toast: true,\n        width: \"32rem\",\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: (toast) => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n          toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n      });\n\n      Toast.fire({\n        icon: status,\n        title: title,\n      });\n    },\n    loginProcess() {\n      this.loading();\n      axios\n        .post(this.api_url + \"login\", this.login)\n        .then((response) => {\n          Swal.close();\n          if (response.data.success == true) {\n            console.log(\"\");\n            if (response.data.data.is_verified == 1) {\n              // login success\n              sessionStorage.setItem(\"user\", JSON.stringify(response.data));\n              this.toast(\"success\", \"You have successfully logged in\");\n              if (response.data.data.role_id == 1) {\n                this.toast(\"warning\", \"Oops, you're not admin\");\n                this.$router.push({ path: \"/\" });\n              }\n            } else {\n              // verify\n              this.token = response.data.data.token;\n              this.resendProcess();\n              this.toast(\"warning\", \"Please, verify your email first!\");\n              this.form_name = \"verify\";\n            }\n          }\n        })\n        .catch((error) => {\n          Swal.close();\n          if (typeof error.response.data.error == \"object\") {\n            this.error_login = error.response.data.error;\n            Swal.close();\n          } else {\n            this.toast(\"warning\", error.response.data.error);\n            this.login.email = \"\";\n            this.login.password = \"\";\n          }\n        });\n    },\n    visiblePassword(names) {\n      if (names == \"password\") {\n        if (this.passwordType == \"text\") {\n          this.passwordType = \"password\";\n        } else {\n          this.passwordType = \"text\";\n        }\n      }\n    },\n  },\n  created() {\n    if (sessionStorage.getItem(\"user\") != null) {\n      this.user = JSON.parse(sessionStorage.getItem(\"user\"));\n      if (this.user.data.role_id == 1) {\n        this.toast(\"warning\", \"You have already logged in as a student\");\n        this.$router.push({ path: \"/\" });\n      }\n    } else {\n      this.user = sessionStorage.getItem(\"user\");\n    }\n  },\n};\n</script>\n"],"sourceRoot":""}]}