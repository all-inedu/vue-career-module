{"remainingRequest":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\thread-loader\\dist\\cjs.js!E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\babel-loader\\lib\\index.js!E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\ALL-in\\Career Module\\vue-career-module\\src\\views\\Auth\\Admin.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\src\\views\\Auth\\Admin.vue","mtime":1648779932679},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\babel.config.js","mtime":1648779783677},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648779824483},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1648779878047},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\babel-loader\\lib\\index.js","mtime":1648779823304},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648779824483},{"path":"E:\\ALL-in\\Career Module\\vue-career-module\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1648779911669}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiRTovQUxMLWluL0NhcmVlciBNb2R1bGUvdnVlLWNhcmVlci1tb2R1bGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlc2V0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFzc3dvcmRUeXBlOiAicGFzc3dvcmQiLAogICAgICBsb2dpbjogewogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgZXJyb3JfbG9naW46IFtdLAogICAgICB1c2VyOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luUHJvY2VzczogZnVuY3Rpb24gbG9naW5Qcm9jZXNzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYWxlcnQubG9hZGluZygpOwogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGFwaV91cmwgKyAibG9naW4iLCB0aGlzLmxvZ2luKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIFN3YWwuY2xvc2UoKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiIik7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5pc192ZXJpZmllZCA9PSAxKSB7CiAgICAgICAgICAgIC8vIGxvZ2luIHN1Y2Nlc3MKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnVzZXIgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKTsgLy8gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEucm9sZV9pZCA9PSAxKSB7CiAgICAgICAgICAgICAgX3RoaXMuJGFsZXJ0LnRvYXN0KCJ3YXJuaW5nIiwgIk9vcHMsIHlvdSdyZSBub3QgYWRtaW4iKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICIvIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5yb2xlX2lkID09IDIpIHsKICAgICAgICAgICAgICBfdGhpcy4kYWxlcnQudG9hc3QoInN1Y2Nlc3MiLCAiWW91IGhhdmUgc3VjY2Vzc2Z1bGx5IGxvZ2dlZCBpbiIpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogIi9hZG1pbi9kYXNoYm9hcmQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHZlcmlmeQogICAgICAgICAgICBfdGhpcy50b2tlbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS50b2tlbjsKCiAgICAgICAgICAgIF90aGlzLnJlc2VuZFByb2Nlc3MoKTsKCiAgICAgICAgICAgIF90aGlzLiRhbGVydC50b2FzdCgid2FybmluZyIsICJQbGVhc2UsIHZlcmlmeSB5b3VyIGVtYWlsIGZpcnN0ISIpOwoKICAgICAgICAgICAgX3RoaXMuZm9ybV9uYW1lID0gInZlcmlmeSI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBTd2FsLmNsb3NlKCk7CgogICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLiRhbGVydC50b2FzdCgid2FybmluZyIsICJQbGVhc2UgY2hlY2sgeW91ciBuZXR3b3JrIik7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3R5cGVvZihlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKSA9PSAib2JqZWN0IikgewogICAgICAgICAgX3RoaXMuZXJyb3JfbG9naW4gPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICAgICAgU3dhbC5jbG9zZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kYWxlcnQudG9hc3QoIndhcm5pbmciLCBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKCiAgICAgICAgICBfdGhpcy5sb2dpbi5lbWFpbCA9ICIiOwogICAgICAgICAgX3RoaXMubG9naW4ucGFzc3dvcmQgPSAiIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHZpc2libGVQYXNzd29yZDogZnVuY3Rpb24gdmlzaWJsZVBhc3N3b3JkKG5hbWVzKSB7CiAgICAgIGlmIChuYW1lcyA9PSAicGFzc3dvcmQiKSB7CiAgICAgICAgaWYgKHRoaXMucGFzc3dvcmRUeXBlID09ICJ0ZXh0IikgewogICAgICAgICAgdGhpcy5wYXNzd29yZFR5cGUgPSAicGFzc3dvcmQiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICJ0ZXh0IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLnVzZXIgIT0gbnVsbCkgewogICAgICB0aGlzLnVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS51c2VyKTsKCiAgICAgIGlmICh0aGlzLnVzZXIuZGF0YS5yb2xlX2lkID09IDEpIHsKICAgICAgICB0aGlzLiRhbGVydC50b2FzdCgid2FybmluZyIsICJZb3UgaGF2ZSBhbHJlYWR5IGxvZ2dlZCBpbiBhcyBhIHN0dWRlbnQiKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiLyIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnVzZXIuZGF0YS5yb2xlX2lkID09IDIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL2FkbWluL2Rhc2hib2FyZCIKICAgICAgICB9KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy51c2VyID0gbG9jYWxTdG9yYWdlLnVzZXI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["E:\\ALL-in\\Career Module\\vue-career-module\\src\\views\\Auth\\Admin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"reset\">\r\n    <div class=\"container mt-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-4 mt-md-5\">\r\n          <form @submit.prevent=\"loginProcess\">\r\n            <div class=\"card mt-md-5\">\r\n              <div class=\"card-header text-center\">\r\n                <h4>Log In</h4>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"row mt-3\">\r\n                  <div class=\"col-md-12\">\r\n                    <div class=\"mb-3\">\r\n                      <label class=\"login-label\">E-mail</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        v-model=\"login.email\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"E-mail\"\r\n                      />\r\n                      <p v-if=\"error_login.email\" class=\"login-error\">\r\n                        {{ error_login.email[0] }}\r\n                      </p>\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                      <label class=\"login-label\">Password</label>\r\n                      <input\r\n                        :type=\"passwordType\"\r\n                        v-model=\"login.password\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Password\"\r\n                      />\r\n                      <div\r\n                        class=\"login-icon pointer\"\r\n                        @click=\"visiblePassword('password')\"\r\n                      >\r\n                        <unicon\r\n                          v-if=\"passwordType == 'password'\"\r\n                          name=\"eye-slash\"\r\n                          fill=\"royalblue\"\r\n                        />\r\n                        <unicon\r\n                          v-if=\"passwordType == 'text'\"\r\n                          name=\"eye\"\r\n                          fill=\"royalblue\"\r\n                        />\r\n                      </div>\r\n                      <p v-if=\"error_login.password\" class=\"login-error\">\r\n                        {{ error_login.password[0] }}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"text-center my-2\">\r\n                  <button class=\"btn btn-allin\" type=\"submit\">Log In</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Swal from \"sweetalert2\";\r\nexport default {\r\n  name: \"Reset\",\r\n  data() {\r\n    return {\r\n      passwordType: \"password\",\r\n      login: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n      error_login: [],\r\n      user: [],\r\n    };\r\n  },\r\n  methods: {\r\n    loginProcess() {\r\n      this.$alert.loading();\r\n      this.$axios\r\n        .post(this.$api_url + \"login\", this.login)\r\n        .then((response) => {\r\n          Swal.close();\r\n          if (response.data.success == true) {\r\n            console.log(\"\");\r\n            if (response.data.data.is_verified == 1) {\r\n              // login success\r\n              localStorage.user = JSON.stringify(response.data);\r\n              // sessionStorage.setItem(\"user\", JSON.stringify(response.data));\r\n              if (response.data.data.role_id == 1) {\r\n                this.$alert.toast(\"warning\", \"Oops, you're not admin\");\r\n                this.$router.push({ path: \"/\" });\r\n              } else if (response.data.data.role_id == 2) {\r\n                this.$alert.toast(\"success\", \"You have successfully logged in\");\r\n                this.$router.push({ path: \"/admin/dashboard\" });\r\n              }\r\n            } else {\r\n              // verify\r\n              this.token = response.data.data.token;\r\n              this.resendProcess();\r\n              this.$alert.toast(\"warning\", \"Please, verify your email first!\");\r\n              this.form_name = \"verify\";\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          Swal.close();\r\n          if (!error.response) {\r\n            this.$alert.toast(\"warning\", \"Please check your network\");\r\n          }\r\n          if (typeof error.response.data.error == \"object\") {\r\n            this.error_login = error.response.data.error;\r\n            Swal.close();\r\n          } else {\r\n            this.$alert.toast(\"warning\", error.response.data.error);\r\n            this.login.email = \"\";\r\n            this.login.password = \"\";\r\n          }\r\n        });\r\n    },\r\n    visiblePassword(names) {\r\n      if (names == \"password\") {\r\n        if (this.passwordType == \"text\") {\r\n          this.passwordType = \"password\";\r\n        } else {\r\n          this.passwordType = \"text\";\r\n        }\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    if (localStorage.user != null) {\r\n      this.user = JSON.parse(localStorage.user);\r\n      if (this.user.data.role_id == 1) {\r\n        this.$alert.toast(\"warning\", \"You have already logged in as a student\");\r\n        this.$router.push({ path: \"/\" });\r\n      } else if (this.user.data.role_id == 2) {\r\n        this.$router.push({ path: \"/admin/dashboard\" });\r\n      }\r\n    } else {\r\n      this.user = localStorage.user;\r\n    }\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}