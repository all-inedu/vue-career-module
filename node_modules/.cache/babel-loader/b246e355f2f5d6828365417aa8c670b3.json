{"remainingRequest":"/home/all-inedu/Documents/career-module/node_modules/thread-loader/dist/cjs.js!/home/all-inedu/Documents/career-module/node_modules/babel-loader/lib/index.js!/home/all-inedu/Documents/career-module/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/all-inedu/Documents/career-module/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/all-inedu/Documents/career-module/src/views/Auth/Admin.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/all-inedu/Documents/career-module/src/views/Auth/Admin.vue","mtime":1639494770349},{"path":"/home/all-inedu/Documents/career-module/babel.config.js","mtime":1636604189469},{"path":"/home/all-inedu/Documents/career-module/node_modules/cache-loader/dist/cjs.js","mtime":1636604085652},{"path":"/home/all-inedu/Documents/career-module/node_modules/thread-loader/dist/cjs.js","mtime":1636604085652},{"path":"/home/all-inedu/Documents/career-module/node_modules/babel-loader/lib/index.js","mtime":1636604086396},{"path":"/home/all-inedu/Documents/career-module/node_modules/cache-loader/dist/cjs.js","mtime":1636604085652},{"path":"/home/all-inedu/Documents/career-module/node_modules/vue-loader-v16/dist/index.js","mtime":1636604086392}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvYWxsLWluZWR1L0RvY3VtZW50cy9jYXJlZXItbW9kdWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXNldCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhc3N3b3JkVHlwZTogInBhc3N3b3JkIiwKICAgICAgbG9naW46IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGVycm9yX2xvZ2luOiBbXSwKICAgICAgdXNlcjogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpblByb2Nlc3M6IGZ1bmN0aW9uIGxvZ2luUHJvY2VzcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGFsZXJ0LmxvYWRpbmcoKTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRhcGlfdXJsICsgImxvZ2luIiwgdGhpcy5sb2dpbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBTd2FsLmNsb3NlKCk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgY29uc29sZS5sb2coIiIpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEuaXNfdmVyaWZpZWQgPT0gMSkgewogICAgICAgICAgICAvLyBsb2dpbiBzdWNjZXNzCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS51c2VyID0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSk7IC8vIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLnJvbGVfaWQgPT0gMSkgewogICAgICAgICAgICAgIF90aGlzLiRhbGVydC50b2FzdCgid2FybmluZyIsICJPb3BzLCB5b3UncmUgbm90IGFkbWluIik7CgogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOiAiLyIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLmRhdGEucm9sZV9pZCA9PSAyKSB7CiAgICAgICAgICAgICAgX3RoaXMuJGFsZXJ0LnRvYXN0KCJzdWNjZXNzIiwgIllvdSBoYXZlIHN1Y2Nlc3NmdWxseSBsb2dnZWQgaW4iKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICIvYWRtaW4vZGFzaGJvYXJkIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB2ZXJpZnkKICAgICAgICAgICAgX3RoaXMudG9rZW4gPSByZXNwb25zZS5kYXRhLmRhdGEudG9rZW47CgogICAgICAgICAgICBfdGhpcy5yZXNlbmRQcm9jZXNzKCk7CgogICAgICAgICAgICBfdGhpcy4kYWxlcnQudG9hc3QoIndhcm5pbmciLCAiUGxlYXNlLCB2ZXJpZnkgeW91ciBlbWFpbCBmaXJzdCEiKTsKCiAgICAgICAgICAgIF90aGlzLmZvcm1fbmFtZSA9ICJ2ZXJpZnkiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgU3dhbC5jbG9zZSgpOwoKICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpcy4kYWxlcnQudG9hc3QoIndhcm5pbmciLCAiUGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90eXBlb2YoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcikgPT0gIm9iamVjdCIpIHsKICAgICAgICAgIF90aGlzLmVycm9yX2xvZ2luID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICAgIFN3YWwuY2xvc2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJGFsZXJ0LnRvYXN0KCJ3YXJuaW5nIiwgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CgogICAgICAgICAgX3RoaXMubG9naW4uZW1haWwgPSAiIjsKICAgICAgICAgIF90aGlzLmxvZ2luLnBhc3N3b3JkID0gIiI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB2aXNpYmxlUGFzc3dvcmQ6IGZ1bmN0aW9uIHZpc2libGVQYXNzd29yZChuYW1lcykgewogICAgICBpZiAobmFtZXMgPT0gInBhc3N3b3JkIikgewogICAgICAgIGlmICh0aGlzLnBhc3N3b3JkVHlwZSA9PSAidGV4dCIpIHsKICAgICAgICAgIHRoaXMucGFzc3dvcmRUeXBlID0gInBhc3N3b3JkIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wYXNzd29yZFR5cGUgPSAidGV4dCI7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS51c2VyICE9IG51bGwpIHsKICAgICAgdGhpcy51c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UudXNlcik7CgogICAgICBpZiAodGhpcy51c2VyLmRhdGEucm9sZV9pZCA9PSAxKSB7CiAgICAgICAgdGhpcy4kYWxlcnQudG9hc3QoIndhcm5pbmciLCAiWW91IGhhdmUgYWxyZWFkeSBsb2dnZWQgaW4gYXMgYSBzdHVkZW50Iik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogIi8iCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy51c2VyLmRhdGEucm9sZV9pZCA9PSAyKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogIi9hZG1pbi9kYXNoYm9hcmQiCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudXNlciA9IGxvY2FsU3RvcmFnZS51c2VyOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/all-inedu/Documents/career-module/src/views/Auth/Admin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"reset\">\n    <div class=\"container mt-5\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-4 mt-md-5\">\n          <form @submit.prevent=\"loginProcess\">\n            <div class=\"card mt-md-5\">\n              <div class=\"card-header text-center\">\n                <h4>Log In</h4>\n              </div>\n              <div class=\"card-body\">\n                <div class=\"row mt-3\">\n                  <div class=\"col-md-12\">\n                    <div class=\"mb-3\">\n                      <label class=\"login-label\">E-mail</label>\n                      <input\n                        type=\"text\"\n                        v-model=\"login.email\"\n                        class=\"form-control\"\n                        placeholder=\"E-mail\"\n                      />\n                      <p v-if=\"error_login.email\" class=\"login-error\">\n                        {{ error_login.email[0] }}\n                      </p>\n                    </div>\n                    <div class=\"mb-3\">\n                      <label class=\"login-label\">Password</label>\n                      <input\n                        :type=\"passwordType\"\n                        v-model=\"login.password\"\n                        class=\"form-control\"\n                        placeholder=\"Password\"\n                      />\n                      <div\n                        class=\"login-icon pointer\"\n                        @click=\"visiblePassword('password')\"\n                      >\n                        <unicon\n                          v-if=\"passwordType == 'password'\"\n                          name=\"eye-slash\"\n                          fill=\"royalblue\"\n                        />\n                        <unicon\n                          v-if=\"passwordType == 'text'\"\n                          name=\"eye\"\n                          fill=\"royalblue\"\n                        />\n                      </div>\n                      <p v-if=\"error_login.password\" class=\"login-error\">\n                        {{ error_login.password[0] }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"text-center my-2\">\n                  <button class=\"btn btn-allin\" type=\"submit\">Log In</button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"Reset\",\n  data() {\n    return {\n      passwordType: \"password\",\n      login: {\n        email: \"\",\n        password: \"\",\n      },\n      error_login: [],\n      user: [],\n    };\n  },\n  methods: {\n    loginProcess() {\n      this.$alert.loading();\n      this.$axios\n        .post(this.$api_url + \"login\", this.login)\n        .then((response) => {\n          Swal.close();\n          if (response.data.success == true) {\n            console.log(\"\");\n            if (response.data.data.is_verified == 1) {\n              // login success\n              localStorage.user = JSON.stringify(response.data);\n              // sessionStorage.setItem(\"user\", JSON.stringify(response.data));\n              if (response.data.data.role_id == 1) {\n                this.$alert.toast(\"warning\", \"Oops, you're not admin\");\n                this.$router.push({ path: \"/\" });\n              } else if (response.data.data.role_id == 2) {\n                this.$alert.toast(\"success\", \"You have successfully logged in\");\n                this.$router.push({ path: \"/admin/dashboard\" });\n              }\n            } else {\n              // verify\n              this.token = response.data.data.token;\n              this.resendProcess();\n              this.$alert.toast(\"warning\", \"Please, verify your email first!\");\n              this.form_name = \"verify\";\n            }\n          }\n        })\n        .catch((error) => {\n          Swal.close();\n          if (!error.response) {\n            this.$alert.toast(\"warning\", \"Please check your network\");\n          }\n          if (typeof error.response.data.error == \"object\") {\n            this.error_login = error.response.data.error;\n            Swal.close();\n          } else {\n            this.$alert.toast(\"warning\", error.response.data.error);\n            this.login.email = \"\";\n            this.login.password = \"\";\n          }\n        });\n    },\n    visiblePassword(names) {\n      if (names == \"password\") {\n        if (this.passwordType == \"text\") {\n          this.passwordType = \"password\";\n        } else {\n          this.passwordType = \"text\";\n        }\n      }\n    },\n  },\n  created() {\n    if (localStorage.user != null) {\n      this.user = JSON.parse(localStorage.user);\n      if (this.user.data.role_id == 1) {\n        this.$alert.toast(\"warning\", \"You have already logged in as a student\");\n        this.$router.push({ path: \"/\" });\n      } else if (this.user.data.role_id == 2) {\n        this.$router.push({ path: \"/admin/dashboard\" });\n      }\n    } else {\n      this.user = localStorage.user;\n    }\n  },\n};\n</script>\n"],"sourceRoot":""}]}