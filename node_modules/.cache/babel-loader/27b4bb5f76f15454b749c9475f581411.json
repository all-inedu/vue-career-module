{"remainingRequest":"/home/all-inedu/Documents/career-module/node_modules/thread-loader/dist/cjs.js!/home/all-inedu/Documents/career-module/node_modules/babel-loader/lib/index.js!/home/all-inedu/Documents/career-module/node_modules/eslint-loader/index.js??ref--14-0!/home/all-inedu/Documents/career-module/src/components/Helper/Auth.js","dependencies":[{"path":"/home/all-inedu/Documents/career-module/src/components/Helper/Auth.js","mtime":1640079967102},{"path":"/home/all-inedu/Documents/career-module/babel.config.js","mtime":1636604189469},{"path":"/home/all-inedu/Documents/career-module/node_modules/cache-loader/dist/cjs.js","mtime":1636604085652},{"path":"/home/all-inedu/Documents/career-module/node_modules/thread-loader/dist/cjs.js","mtime":1636604085652},{"path":"/home/all-inedu/Documents/career-module/node_modules/babel-loader/lib/index.js","mtime":1636604086396},{"path":"/home/all-inedu/Documents/career-module/node_modules/eslint-loader/index.js","mtime":1636604085780}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwppbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL3JvdXRlcic7CmV4cG9ydCB2YXIgYXV0aCA9IHsKICBjaGVjazogZnVuY3Rpb24gY2hlY2soKSB7CiAgICAvLyByZXR1cm4gbG9jYWxTdG9yYWdlLnVzZXI7CiAgICAvLyBsZXQgYXBpX3VybCA9ICJodHRwczovL2FwaS1jbS5hbGwtaW5lZHUuY29tL2FwaS92MS8iOwogICAgdmFyIGFwaV91cmwgPSAiaHR0cHM6Ly9kZXYuYXBpLWNtLmFsbC1pbmVkdS5jb20vYXBpL3YxLyI7CiAgICB2YXIgZGF0YSA9IFtdOwogICAgdmFyIHRva2VuID0gJyc7CiAgICB2YXIgVG9hc3QgPSBTd2FsLm1peGluKHsKICAgICAgdG9hc3Q6IHRydWUsCiAgICAgIHdpZHRoOiAiMzJyZW0iLAogICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgIHRpbWVyOiAzMDAwLAogICAgICB0aW1lclByb2dyZXNzQmFyOiB0cnVlLAogICAgICBkaWRPcGVuOiBmdW5jdGlvbiBkaWRPcGVuKHRvYXN0KSB7CiAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIFN3YWwuc3RvcFRpbWVyKTsKICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgU3dhbC5yZXN1bWVUaW1lcik7CiAgICAgIH0KICAgIH0pOyAvLyBhbGVydChsb2NhbFN0b3JhZ2UudXNlcik7CgogICAgaWYgKGxvY2FsU3RvcmFnZS51c2VyICE9IG51bGwpIHsKICAgICAgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpOwogICAgICB0b2tlbiA9IGRhdGEuZGF0YS50b2tlbjsKICAgICAgYXhpb3MucG9zdChhcGlfdXJsICsgJ2NoZWNrL3Rva2VuJywgJycsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnLycKICAgICAgICB9KTsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgIHRpdGxlOiAnUGxlYXNlIGxvZy1pbiBhZ2FpbiwgeW91ciB0b2tlbiBpcyBleHBpcmVkIScKICAgICAgICB9KTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGRhdGEuZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnLycKICAgICAgfSk7CiAgICAgIFRvYXN0LmZpcmUoewogICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICB0aXRsZTogJ1BsZWFzZSBsb2ctaW4gZmlyc3QhJwogICAgICB9KTsKICAgIH0KICB9LAogIHVzZXJfZGF0YTogZnVuY3Rpb24gdXNlcl9kYXRhKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS51c2VyICE9IG51bGwpIHsKICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS51c2VyKTsKICAgICAgcmV0dXJuIGRhdGEuZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/all-inedu/Documents/career-module/src/components/Helper/Auth.js"],"names":["axios","Swal","router","auth","check","api_url","data","token","Toast","mixin","toast","width","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","localStorage","user","JSON","parse","post","headers","Authorization","then","catch","push","path","fire","icon","title","removeItem","user_data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAO,IAAMC,IAAI,GAAG;AAChBC,EAAAA,KADgB,mBACR;AACJ;AACA;AAEA,QAAIC,OAAO,GAAG,0CAAd;AACA,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAMC,KAAK,GAAGP,IAAI,CAACQ,KAAL,CAAW;AACrBC,MAAAA,KAAK,EAAE,IADc;AAErBC,MAAAA,KAAK,EAAE,OAFc;AAGrBC,MAAAA,QAAQ,EAAE,SAHW;AAIrBC,MAAAA,iBAAiB,EAAE,KAJE;AAKrBC,MAAAA,KAAK,EAAE,IALc;AAMrBC,MAAAA,gBAAgB,EAAE,IANG;AAOrBC,MAAAA,OAAO,EAAE,iBAACN,KAAD,EAAW;AAChBA,QAAAA,KAAK,CAACO,gBAAN,CAAuB,YAAvB,EAAqChB,IAAI,CAACiB,SAA1C;AACAR,QAAAA,KAAK,CAACO,gBAAN,CAAuB,YAAvB,EAAqChB,IAAI,CAACkB,WAA1C;AACH;AAVoB,KAAX,CAAd,CAPI,CAoBJ;;AAEA,QAAIC,YAAY,CAACC,IAAb,IAAqB,IAAzB,EAA+B;AAC3Bf,MAAAA,IAAI,GAAGgB,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,IAAxB,CAAP;AACAd,MAAAA,KAAK,GAAGD,IAAI,CAACA,IAAL,CAAUC,KAAlB;AAEAP,MAAAA,KAAK,CAACwB,IAAN,CAAWnB,OAAO,GAAG,aAArB,EAAoC,EAApC,EAAwC;AACpCoB,QAAAA,OAAO,EAAE;AACL,0BAAgB,qBADX;AAELC,UAAAA,aAAa,EAAE,YAAYnB;AAFtB;AAD2B,OAAxC,EAKGoB,IALH,CAKQ,YAAM,CAEb,CAPD,EAOGC,KAPH,CAOS,YAAM;AACX1B,QAAAA,MAAM,CAAC2B,IAAP,CAAY;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAZ;AACAtB,QAAAA,KAAK,CAACuB,IAAN,CAAW;AACPC,UAAAA,IAAI,EAAE,SADC;AAEPC,UAAAA,KAAK,EAAE;AAFA,SAAX;AAIAb,QAAAA,YAAY,CAACc,UAAb,CAAwB,MAAxB;AACH,OAdD;AAgBA,aAAO5B,IAAI,CAACA,IAAZ;AAEH,KAtBD,MAsBO;AACHJ,MAAAA,MAAM,CAAC2B,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACAtB,MAAAA,KAAK,CAACuB,IAAN,CAAW;AACPC,QAAAA,IAAI,EAAE,SADC;AAEPC,QAAAA,KAAK,EAAE;AAFA,OAAX;AAIH;AACJ,GApDe;AAsDhBE,EAAAA,SAtDgB,uBAsDJ;AACR,QAAIf,YAAY,CAACC,IAAb,IAAqB,IAAzB,EAA+B;AAC3B,UAAMf,IAAI,GAAGgB,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,IAAxB,CAAb;AACA,aAAOf,IAAI,CAACA,IAAZ;AACH,KAHD,MAGO;AACH,aAAO,IAAP;AACH;AACJ;AA7De,CAAb","sourcesContent":["import axios from 'axios';\nimport Swal from 'sweetalert2';\nimport router from '../../router';\n\nexport const auth = {\n    check() {\n        // return localStorage.user;\n        // let api_url = \"https://api-cm.all-inedu.com/api/v1/\";\n\n        let api_url = \"https://dev.api-cm.all-inedu.com/api/v1/\";\n        let data = [];\n        let token = '';\n        const Toast = Swal.mixin({\n            toast: true,\n            width: \"32rem\",\n            position: \"top-end\",\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n                toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n                toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n            },\n        });\n\n        // alert(localStorage.user);\n\n        if (localStorage.user != null) {\n            data = JSON.parse(localStorage.user);\n            token = data.data.token;\n\n            axios.post(api_url + 'check/token', '', {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\",\n                    Authorization: \"Bearer \" + token,\n                },\n            }).then(() => {\n\n            }).catch(() => {\n                router.push({ path: '/' })\n                Toast.fire({\n                    icon: 'warning',\n                    title: 'Please log-in again, your token is expired!',\n                });\n                localStorage.removeItem('user');\n            })\n\n            return data.data;\n\n        } else {\n            router.push({ path: '/' })\n            Toast.fire({\n                icon: 'warning',\n                title: 'Please log-in first!',\n            });\n        }\n    },\n\n    user_data() {\n        if (localStorage.user != null) {\n            const data = JSON.parse(localStorage.user);\n            return data.data\n        } else {\n            return null\n        }\n    }\n}"]}]}