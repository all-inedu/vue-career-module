{"version":3,"sources":["webpack:///./src/views/Auth/Admin.vue","webpack:///./src/views/Auth/Admin.vue?c972"],"names":["id","class","type","loginProcess","login","email","placeholder","error_login","passwordType","password","visiblePassword","name","fill","data","api_url","user","methods","loading","fire","title","showLoading","toast","status","Toast","mixin","width","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","icon","this","a","post","then","response","close","success","console","log","is_verified","sessionStorage","setItem","JSON","stringify","role_id","$router","push","path","token","resendProcess","form_name","catch","error","names","created","getItem","parse","__exports__","render"],"mappings":"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","file":"js/chunk-2d0ba823.e223142c.js","sourcesContent":["<template>\n  <div id=\"reset\">\n    <div class=\"container mt-5\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-4 mt-md-5\">\n          <form @submit.prevent=\"loginProcess\">\n            <div class=\"card mt-md-5\">\n              <div class=\"card-header text-center\">\n                <h4>Log In</h4>\n              </div>\n              <div class=\"card-body\">\n                <div class=\"row mt-3\">\n                  <div class=\"col-md-12\">\n                    <div class=\"mb-3\">\n                      <label class=\"login-label\">E-mail</label>\n                      <input\n                        type=\"text\"\n                        v-model=\"login.email\"\n                        class=\"form-control\"\n                        placeholder=\"E-mail\"\n                      />\n                      <p v-if=\"error_login.email\" class=\"login-error\">\n                        {{ error_login.email[0] }}\n                      </p>\n                    </div>\n                    <div class=\"mb-3\">\n                      <label class=\"login-label\">Password</label>\n                      <input\n                        :type=\"passwordType\"\n                        v-model=\"login.password\"\n                        class=\"form-control\"\n                        placeholder=\"Password\"\n                      />\n                      <div\n                        class=\"login-icon pointer\"\n                        @click=\"visiblePassword('password')\"\n                      >\n                        <unicon\n                          v-if=\"passwordType == 'password'\"\n                          name=\"eye-slash\"\n                          fill=\"royalblue\"\n                        />\n                        <unicon\n                          v-if=\"passwordType == 'text'\"\n                          name=\"eye\"\n                          fill=\"royalblue\"\n                        />\n                      </div>\n                      <p v-if=\"error_login.password\" class=\"login-error\">\n                        {{ error_login.password[0] }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"text-center my-2\">\n                  <button class=\"btn btn-allin\" type=\"submit\">Log In</button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"Reset\",\n  data() {\n    return {\n      api_url: \"https://api-cm.all-inedu.com/api/v1/\",\n      passwordType: \"password\",\n      login: {\n        email: \"\",\n        password: \"\",\n      },\n      error_login: [],\n      user: [],\n    };\n  },\n  methods: {\n    loading() {\n      Swal.fire({\n        title: \"Please wait a minute\",\n      });\n      Swal.showLoading();\n    },\n    toast(status, title) {\n      const Toast = Swal.mixin({\n        toast: true,\n        width: \"32rem\",\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: (toast) => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n          toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n      });\n\n      Toast.fire({\n        icon: status,\n        title: title,\n      });\n    },\n    loginProcess() {\n      this.loading();\n      axios\n        .post(this.api_url + \"login\", this.login)\n        .then((response) => {\n          Swal.close();\n          if (response.data.success == true) {\n            console.log(\"\");\n            if (response.data.data.is_verified == 1) {\n              // login success\n              sessionStorage.setItem(\"user\", JSON.stringify(response.data));\n              if (response.data.data.role_id == 1) {\n                this.toast(\"warning\", \"Oops, you're not admin\");\n                this.$router.push({ path: \"/\" });\n              } else if (response.data.data.role_id == 2) {\n                this.toast(\"success\", \"You have successfully logged in\");\n                this.$router.push({ path: \"/admin/dashboard\" });\n              }\n            } else {\n              // verify\n              this.token = response.data.data.token;\n              this.resendProcess();\n              this.toast(\"warning\", \"Please, verify your email first!\");\n              this.form_name = \"verify\";\n            }\n          }\n        })\n        .catch((error) => {\n          Swal.close();\n          if (!error.response) {\n            this.toast(\"warning\", \"Please check your network\");\n          }\n          if (typeof error.response.data.error == \"object\") {\n            this.error_login = error.response.data.error;\n            Swal.close();\n          } else {\n            this.toast(\"warning\", error.response.data.error);\n            this.login.email = \"\";\n            this.login.password = \"\";\n          }\n        });\n    },\n    visiblePassword(names) {\n      if (names == \"password\") {\n        if (this.passwordType == \"text\") {\n          this.passwordType = \"password\";\n        } else {\n          this.passwordType = \"text\";\n        }\n      }\n    },\n  },\n  created() {\n    if (sessionStorage.getItem(\"user\") != null) {\n      this.user = JSON.parse(sessionStorage.getItem(\"user\"));\n      if (this.user.data.role_id == 1) {\n        this.toast(\"warning\", \"You have already logged in as a student\");\n        this.$router.push({ path: \"/\" });\n      } else if (this.user.data.role_id == 2) {\n        this.$router.push({ path: \"/admin/dashboard\" });\n      }\n    } else {\n      this.user = sessionStorage.getItem(\"user\");\n    }\n  },\n};\n</script>\n","import { render } from \"./Admin.vue?vue&type=template&id=037c2774\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/all-inedu/Documents/career-module/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}