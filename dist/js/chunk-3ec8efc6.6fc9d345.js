(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ec8efc6"],{"288b":function(e,t,a){},"866c":function(e,t,a){"use strict";a("288b")},"92b8":function(e,t,a){"use strict";a.r(t);var r=a("7a23"),o={id:"editProfile"},c={class:"container"},n={key:0,class:"row"},s={class:"col-md-3 mb-3"},l={class:"card shadow"},d={class:"card-body"},i=["src"],m={class:"col-md-9"},u={class:"card shadow"},p={class:"card-body"},b=Object(r["createElementVNode"])("h5",{class:"my-0"},"Edit Profile",-1),j={class:"float-end",style:{"margin-top":"-30px"}},h={class:"dropstart"},O={class:"dropdown-menu","aria-labelledby":"setting"},f=Object(r["createElementVNode"])("a",{class:"dropdown-item",href:"#"},"Change Email",-1),V=[f],N=Object(r["createElementVNode"])("a",{class:"dropdown-item",href:"#"},"Change Password",-1),v=[N],w=Object(r["createElementVNode"])("hr",{class:"mt-0"},null,-1),E={class:"row"},y={class:"col-md-6 mb-3"},_=Object(r["createElementVNode"])("small",{class:"text-muted"}," First Name ",-1),g={class:"col-md-6 mb-3"},x=Object(r["createElementVNode"])("small",{class:"text-muted"}," Last Name ",-1),k={class:"row"},C={class:"col-md-6 mb-3"},B=Object(r["createElementVNode"])("small",{class:"text-muted"}," Birthday ",-1),T={class:"col-md-6 mb-3"},D=Object(r["createElementVNode"])("small",{class:"text-muted"}," Phone Number ",-1),$={key:0,class:"text-danger"},P={class:"row"},M={class:"col-md-12"},S=Object(r["createElementVNode"])("small",{class:"text-muted"}," Address ",-1),U={key:0,class:"text-danger"},I={class:"row"},z={class:"col-md-12"},Y=Object(r["createElementVNode"])("hr",null,null,-1),q={class:"float-start"},A=Object(r["createElementVNode"])("div",{class:"float-end"},[Object(r["createElementVNode"])("button",{class:"btn btn-primary rounded-pill",type:"submit"}," Save Changes ")],-1),F={key:0,class:"row justify-content-center"},R={class:"col-md-5"},J={class:"card shadow"},L={key:0,class:"card-body"},W=Object(r["createElementVNode"])("h5",{class:"text-center mb-4"},"Change Your Email",-1),G=Object(r["createElementVNode"])("small",{class:"text-muted"},"New Email",-1),H={key:0,class:"text-danger"},K=Object(r["createElementVNode"])("hr",null,null,-1),Q=Object(r["createElementVNode"])("div",{class:"text-center"},[Object(r["createElementVNode"])("button",{class:"btn btn-primary rounded-pill",type:"submit"}," Save Changes ")],-1),X={key:1,class:"card-body"},Z=Object(r["createElementVNode"])("h5",{class:"text-center mb-4"},"Verify Your Email",-1),ee={class:"text-center"},te=Object(r["createElementVNode"])("br",null,null,-1),ae=Object(r["createTextVNode"])(" Enter the code below to confirm your email address. "),re={class:"row justify-content-center"},oe={class:"col-2"},ce={class:"col-2"},ne={class:"col-2"},se={class:"col-2"},le={class:"text-center mt-3 mb-3"},de=Object(r["createElementVNode"])("hr",null,null,-1),ie={key:0},me=Object(r["createElementVNode"])("br",null,null,-1),ue=Object(r["createTextVNode"])(" to resend the verification code "),pe={key:1},be=Object(r["createTextVNode"])(" Resend the verification code "),je=Object(r["createTextVNode"])(" Back to Profile "),he={key:0,class:"row justify-content-center"},Oe={class:"col-md-5"},fe={class:"card shadow"},Ve={class:"card-body"},Ne=Object(r["createElementVNode"])("h5",{class:"text-center mb-4"},"Change Your Password",-1),ve=Object(r["createElementVNode"])("small",{class:"text-muted"},"Old Password",-1),we={key:0,class:"text-danger"},Ee=Object(r["createElementVNode"])("hr",null,null,-1),ye={class:"mb-2"},_e=Object(r["createElementVNode"])("small",{class:"text-muted"},"New Password",-1),ge={key:0,class:"text-danger"},xe={class:"mb-3"},ke=Object(r["createElementVNode"])("small",{class:"text-muted"},"Confirmation Password",-1),Ce=Object(r["createElementVNode"])("hr",null,null,-1),Be=Object(r["createElementVNode"])("div",{class:"text-center"},[Object(r["createElementVNode"])("button",{class:"btn btn-primary rounded-pill"}," Save Changes ")],-1),Te=Object(r["createTextVNode"])(" Back to Profile ");function De(e,t,a,f,N,De){var $e=Object(r["resolveComponent"])("vue-feather"),Pe=Object(r["resolveComponent"])("vue-custom-tooltip"),Me=Object(r["resolveComponent"])("datepicker"),Se=Object(r["resolveComponent"])("vue-tel-input"),Ue=Object(r["resolveComponent"])("editor");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createElementVNode"])("div",c,[Object(r["createVNode"])(r["Transition"],{name:"fade"},{default:Object(r["withCtx"])((function(){return["edit"==N.page?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("div",l,[Object(r["createElementVNode"])("div",d,[Object(r["createElementVNode"])("img",{src:N.preview,alt:"User Name",class:"user-picture"},null,8,i),Object(r["createElementVNode"])("input",{type:"file",class:"form-control",ref:"picture",onChange:t[0]||(t[0]=function(){return De.previewImage&&De.previewImage.apply(De,arguments)})},null,544)])])]),Object(r["createElementVNode"])("div",m,[Object(r["createElementVNode"])("div",u,[Object(r["createElementVNode"])("div",p,[b,Object(r["createElementVNode"])("div",j,[Object(r["createVNode"])(Pe,{label:"Setting"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",h,[Object(r["createVNode"])($e,{type:"more-horizontal",id:"setting","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),Object(r["createElementVNode"])("ul",O,[Object(r["createElementVNode"])("li",{onClick:t[1]||(t[1]=function(e){return De.changeTo("email")})},V),Object(r["createElementVNode"])("li",{onClick:t[2]||(t[2]=function(e){return De.changeTo("password")})},v)])])]})),_:1})]),w,Object(r["createElementVNode"])("form",{onSubmit:t[8]||(t[8]=Object(r["withModifiers"])((function(){return De.updateProfile&&De.updateProfile.apply(De,arguments)}),["prevent"]))},[Object(r["createElementVNode"])("div",E,[Object(r["createElementVNode"])("div",y,[_,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return N.user_data.first_name=e})},null,512),[[r["vModelText"],N.user_data.first_name]])]),Object(r["createElementVNode"])("div",g,[x,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return N.user_data.last_name=e})},null,512),[[r["vModelText"],N.user_data.last_name]])])]),Object(r["createElementVNode"])("div",k,[Object(r["createElementVNode"])("div",C,[B,Object(r["createVNode"])(Me,{modelValue:N.user_data.birthday,"onUpdate:modelValue":t[5]||(t[5]=function(e){return N.user_data.birthday=e}),inputFormat:"dd MMMM yyyy",class:"bday",readonly:"false",style:{"--vdp-bg-color":"#fff","--vdp-hover-bg-color":"#363caa","--vdp-selected-bg-color":"#e59c3d","--vdp-divider-color":"#363caa"}},null,8,["modelValue"])]),Object(r["createElementVNode"])("div",T,[D,Object(r["createVNode"])(Se,{value:N.user_data.phone_number,onInput:De.onInput},null,8,["value","onInput"]),N.error_form.phone_number?(Object(r["openBlock"])(),Object(r["createElementBlock"])("small",$,Object(r["toDisplayString"])(N.error_form.phone_number[0]),1)):Object(r["createCommentVNode"])("",!0)])]),Object(r["createElementVNode"])("div",P,[Object(r["createElementVNode"])("div",M,[S,Object(r["createVNode"])(Ue,{modelValue:N.user_data.address,"onUpdate:modelValue":t[6]||(t[6]=function(e){return N.user_data.address=e}),"api-key":"h7t62ozvqkx2ifkeh051fsy3k9irz7axx1g2zitzpbaqfo8m",init:{height:300,menubar:!0,inline:!1}},null,8,["modelValue"]),N.error_form.address?(Object(r["openBlock"])(),Object(r["createElementBlock"])("small",U,Object(r["toDisplayString"])(N.error_form.address[0]),1)):Object(r["createCommentVNode"])("",!0)])]),Object(r["createElementVNode"])("div",I,[Object(r["createElementVNode"])("div",z,[Y,Object(r["createElementVNode"])("div",q,[Object(r["createElementVNode"])("button",{class:"btn btn-warning rounded-pill",type:"button",onClick:t[7]||(t[7]=function(){return De.cancelEdit&&De.cancelEdit.apply(De,arguments)})}," Back to Dashboard ")]),A])])],32)])])])])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(r["Transition"],{name:"fade"},{default:Object(r["withCtx"])((function(){return["email"==N.page?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",F,[Object(r["createElementVNode"])("div",R,[Object(r["createElementVNode"])("div",J,[N.verification?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",L,[Object(r["createElementVNode"])("form",{onSubmit:t[10]||(t[10]=Object(r["withModifiers"])((function(){return De.updateEmail&&De.updateEmail.apply(De,arguments)}),["prevent"]))},[W,G,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"email","onUpdate:modelValue":t[9]||(t[9]=function(e){return N.email.email=e}),class:"form-control"},null,512),[[r["vModelText"],N.email.email]]),N.email.error.email?(Object(r["openBlock"])(),Object(r["createElementBlock"])("small",H,Object(r["toDisplayString"])(N.email.error.email[0]),1)):Object(r["createCommentVNode"])("",!0),K,Q],32)])),N.verification?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",X,[Z,Object(r["createElementVNode"])("p",ee,[Object(r["createTextVNode"])(" We emailed you the four digit code to "+Object(r["toDisplayString"])(N.email.email)+". ",1),te,ae]),Object(r["createElementVNode"])("div",re,[Object(r["createElementVNode"])("div",oe,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[11]||(t[11]=function(e){return N.code[0]=e})},null,512),[[r["vModelText"],N.code[0]]])]),Object(r["createElementVNode"])("div",ce,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[12]||(t[12]=function(e){return N.code[1]=e})},null,512),[[r["vModelText"],N.code[1]]])]),Object(r["createElementVNode"])("div",ne,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[13]||(t[13]=function(e){return N.code[2]=e})},null,512),[[r["vModelText"],N.code[2]]])]),Object(r["createElementVNode"])("div",se,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[14]||(t[14]=function(e){return N.code[3]=e})},null,512),[[r["vModelText"],N.code[3]]])]),Object(r["createElementVNode"])("div",le,[Object(r["createElementVNode"])("button",{class:"btn btn-primary rounded-pill",onClick:t[15]||(t[15]=function(){return De.verifyCode&&De.verifyCode.apply(De,arguments)})}," Submit "),de,0==N.resend?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",ie,[Object(r["createTextVNode"])(" Please wait "+Object(r["toDisplayString"])(N.timerCount)+" seconds ",1),me,ue])):Object(r["createCommentVNode"])("",!0),1==N.resend?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",pe,[be,Object(r["createElementVNode"])("a",{class:"pointer",onClick:t[16]||(t[16]=function(){return De.updateEmail&&De.updateEmail.apply(De,arguments)})},"here")])):Object(r["createCommentVNode"])("",!0)])])])):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",{class:"mt-3 text-center",onClick:t[17]||(t[17]=function(e){return De.changeTo("edit")})},[Object(r["createVNode"])($e,{type:"arrow-left"}),je])])])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(r["Transition"],{name:"fade"},{default:Object(r["withCtx"])((function(){return["password"==N.page?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",he,[Object(r["createElementVNode"])("div",Oe,[Object(r["createElementVNode"])("div",fe,[Object(r["createElementVNode"])("div",Ve,[Object(r["createElementVNode"])("form",{onSubmit:t[21]||(t[21]=Object(r["withModifiers"])((function(){return De.updatePassword&&De.updatePassword.apply(De,arguments)}),["prevent"]))},[Ne,ve,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[18]||(t[18]=function(e){return N.password.old_password=e})},null,512),[[r["vModelText"],N.password.old_password]]),N.password.error.old_password?(Object(r["openBlock"])(),Object(r["createElementBlock"])("small",we,Object(r["toDisplayString"])(N.password.error.old_password[0]),1)):Object(r["createCommentVNode"])("",!0),Ee,Object(r["createElementVNode"])("div",ye,[_e,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[19]||(t[19]=function(e){return N.password.new_password=e})},null,512),[[r["vModelText"],N.password.new_password]]),N.password.error.password?(Object(r["openBlock"])(),Object(r["createElementBlock"])("small",ge,Object(r["toDisplayString"])(N.password.error.password[0]),1)):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",xe,[ke,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[20]||(t[20]=function(e){return N.password.confirm_password=e})},null,512),[[r["vModelText"],N.password.confirm_password]])]),Ce,Be],32)])]),Object(r["createElementVNode"])("div",{class:"mt-3 text-center",onClick:t[22]||(t[22]=function(e){return De.changeTo("edit")})},[Object(r["createVNode"])($e,{type:"arrow-left"}),Te])])])):Object(r["createCommentVNode"])("",!0)]})),_:1})])])}var $e=a("53ca"),Pe=a("24e7"),Me=a("4edd"),Se=a("c1df"),Ue=a.n(Se),Ie={name:"edit profile",components:{datepicker:Pe["a"],VueFeather:Me["a"]},data:function(){return{user:[],user_data:[],page:"edit",verification:!1,resend:!1,timerCount:60,birthday:"",preview:"",password:{old_password:"",new_password:"",confirm_password:"",error:[]},email:{email:"",error:[]},code:[],error_form:[]}},methods:{previewImage:function(){var e=this,t=new FileReader;t.onload=function(t){e.preview=t.target.result},this.user_data.profile_picture=this.$refs["picture"].files[0],t.readAsDataURL(this.user_data.profile_picture)},cancelEdit:function(){this.$emit("edit-form",!1)},changeTo:function(e){this.page=e},countDownTimer:function(){var e=this;this.timerCount>0?setTimeout((function(){e.timerCount-=1,e.countDownTimer()}),1e3):this.resend=!0},onInput:function(e,t){""!=e?null!==t&&void 0!==t&&t.formatted&&(this.user_data.phone_number=t.formatted):this.user_data.phone_number=""},getProfile:function(){var e=this;this.$axios.get(this.$api_url+"profile",{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then((function(t){e.user_data=t.data.data.user[0],e.user_data.birthday=new Date(e.user_data.birthday),e.checkImage()})).catch((function(e){console.log(e)}))},checkImage:function(){this.user_data.profile_picture?this.preview=this.$base_url+this.user_data.profile_picture:this.preview="https://dummyimage.com/600x400/000/fff"},updateProfile:function(){var e=this;this.$alert.loading();var t=new FormData;t.append("first_name",this.user_data.first_name),t.append("last_name",this.user_data.last_name),t.append("birthday",Ue()(this.user_data.birthday).format("YYYY-MM-DD")),t.append("phone_number",this.user_data.phone_number),t.append("address",this.user_data.address),t.append("profile_picture",this.user_data.profile_picture),this.$axios.post(this.$api_url+"profile",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then((function(t){t.data.success?(e.user_data=t.data.data.user,e.user_data.birthday=new Date(e.user_data.birthday),e.$emit("check-data",e.user_data),e.checkImage(),e.$alert.toast("success","Your profile has been updated")):e.$alert.toast("error",t.data.error)})).catch((function(t){e.$alert.close(),e.error_form=t.response.data.error}))},updateEmail:function(){var e=this;this.$alert.loading();var t=new FormData;t.append("email",this.email.email),this.$axios.post(this.$api_url+"request/email-change",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then((function(t){e.verification=!0,e.$alert.toast("success",t.data.message),e.timerCount=60,e.resend=!1,e.countDownTimer()})).catch((function(t){console.log(t.response),e.email.error=t.response.data.error}))},verifyCode:function(){var e=this,t=this.code[0]+""+this.code[1]+this.code[2]+this.code[3];this.$axios.get(this.$api_url+"change/mail/"+t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then((function(t){t.data.success?(e.page="edit",e.verification=!1,e.code=[],e.email.email="",e.$alert.toast("success",t.data.message)):(e.$alert.toast("error",t.data.error),e.code=[])})).catch((function(t){console.log(t.response),e.email.error=t.response.data.error}))},updatePassword:function(){var e=this,t=new FormData;t.append("old_password",this.password.old_password),t.append("password",this.password.new_password),t.append("password_confirmation",this.password.confirm_password),this.$axios.post(this.$api_url+"change/password",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then((function(t){e.page="edit",e.$alert.toast("success",t.data.message)})).catch((function(t){"object"==Object($e["a"])(t.response.data.error)?e.password.error=t.response.data.error:e.$alert.toast("error",t.response.data.error)}))}},created:function(){document.title="Edit Profile",this.user=this.$auth.user_data(),this.getProfile(),this.checkImage(),this.countDownTimer()}},ze=(a("866c"),a("6b0d")),Ye=a.n(ze);const qe=Ye()(Ie,[["render",De]]);t["default"]=qe}}]);
//# sourceMappingURL=chunk-3ec8efc6.6fc9d345.js.map