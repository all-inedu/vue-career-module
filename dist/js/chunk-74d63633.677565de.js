(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74d63633","chunk-3ec8efc6"],{"0052":function(e,t,a){"use strict";a("c3b1")},"0104":function(e,t,a){"use strict";a("7f94")},"288b":function(e,t,a){},"2f6c":function(e,t,a){"use strict";var c=a("7a23"),o=a("3d02"),r=a.n(o);const l={id:"navbar"},s={class:"navbar navbar-expand-lg navbar-allin shadow navbar-light"},n={class:"container"},d={class:"collapse navbar-collapse",id:"navbarSupportedContent"},i={class:"d-flex"},m={class:"navbar-nav me-auto mb-2 mb-lg-0"},b={class:"nav-item"},u={class:"nav-item"},p={class:"nav-link",href:"/file/CAREER_EXPLORATION_GUIDELINES.pdf",download:"",target:"_blank"},O={class:"nav-item dropdown"},j={class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},h={class:"dropdown-menu","aria-labelledby":"navbarDropdown"};function v(e,t,a,o,v,V){const N=Object(c["resolveComponent"])("router-link"),E=Object(c["resolveComponent"])("vue-feather");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("nav",s,[Object(c["createElementVNode"])("div",n,[t[4]||(t[4]=Object(c["createElementVNode"])("img",{src:r.a,class:"navbar-brand",alt:"Career Exploration Module"},null,-1)),t[5]||(t[5]=Object(c["createElementVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["createElementVNode"])("span",{class:"navbar-toggler-icon"})],-1)),Object(c["createElementVNode"])("div",d,[t[3]||(t[3]=Object(c["createElementVNode"])("div",{class:"navbar-nav me-auto mb-2 mb-lg-0"},null,-1)),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("ul",m,[Object(c["createElementVNode"])("li",b,[Object(c["createVNode"])(N,{class:"nav-link",to:"/"},{default:Object(c["withCtx"])(()=>t[1]||(t[1]=[Object(c["createTextVNode"])("Home")])),_:1})]),Object(c["createElementVNode"])("li",u,[Object(c["createElementVNode"])("a",p,[Object(c["createVNode"])(E,{type:"download",size:"20",class:"float-right"}),t[2]||(t[2]=Object(c["createTextVNode"])(" Guidebook"))])]),Object(c["createElementVNode"])("li",O,[Object(c["createElementVNode"])("a",j,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(v.user.first_name),1)]),Object(c["createElementVNode"])("ul",h,[Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>V.logout&&V.logout(...e))},"Logout")])])])])])])])])])}a("14d9");var V=a("4edd"),N={name:"Navbar",components:{VueFeather:V["a"]},data(){return{user:[]}},methods:{logout(){localStorage.removeItem("user"),this.$router.push({path:"/"})}},created(){this.user=this.$auth.user_data()}},E=(a("deae"),a("6b0d")),g=a.n(E);const f=g()(N,[["render",v]]);t["a"]=f},"36ec":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o={id:"userDashboard"},r={key:0,class:"container mt-5"},l={class:"row justify-content-center"},s={class:"col-md-4 text-center"},n={key:0,class:"mt-4"};function d(e,t,a,d,i,m){const b=Object(c["resolveComponent"])("v-navbar"),u=Object(c["resolveComponent"])("vue-feather"),p=Object(c["resolveComponent"])("v-profile"),O=Object(c["resolveComponent"])("v-footer");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createVNode"])(b),i.show?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",s,[Object(c["createVNode"])(u,{type:"loader",animation:"spin",size:"50"})])])])),Object(c["createVNode"])(c["Transition"],{name:"fade"},{default:Object(c["withCtx"])(()=>[i.show?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createVNode"])(p),Object(c["createVNode"])(O)])):Object(c["createCommentVNode"])("",!0)]),_:1})])}var i=a("2f6c");const m={id:"profile"},b={class:"container mt-3"},u={key:0,class:"row align-items-stretch"},p={class:"col-md-8 mb-md-0 mb-3 center"},O={class:"card h-100 shadow"},j={class:"card-body h-100"},h={class:"row row-cols-md-2 row-cols-1 align-items-center"},v={class:"col w-25 mb-3 text-center"},V=["src"],N={class:"mt-3 mb-0"},E={class:"col w-75"},g={class:"row"},f={class:"col-md-6 mb-2"},w={class:"mb-2"},y={class:"mb-2"},k={class:"mb-2"},_={class:"col-md-6"},x={class:"mb-2"},C={class:"mb-2"},D=["innerHTML"],B={class:"col-md-4"},T={class:"card h-100 shadow"},S={class:"card-body"},$={class:"chart-total"},M={key:0},P={key:0};function A(e,t,a,o,r,l){const s=Object(c["resolveComponent"])("vue-feather"),n=Object(c["resolveComponent"])("DoughnutChart"),d=Object(c["resolveComponent"])("v-edit"),i=Object(c["resolveComponent"])("v-activity");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",m,[Object(c["createElementVNode"])("div",b,[Object(c["createVNode"])(c["Transition"],{name:"fade"},{default:Object(c["withCtx"])(()=>[r.edit_form?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("img",{src:r.profile_picture,alt:"Career Exploration Module",class:"user-img mx-auto d-block"},null,8,V),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded-pill btn-sm px-3",onClick:t[0]||(t[0]=(...e)=>l.editForm&&l.editForm(...e))},[Object(c["createVNode"])(s,{type:"edit",class:"me-2",size:"20"}),t[1]||(t[1]=Object(c["createTextVNode"])(" Edit Profile "))])])]),Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("div",w,[t[2]||(t[2]=Object(c["createElementVNode"])("small",{class:"text-muted d-block"}," Full Name ",-1)),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(r.user_data.first_name+" "+r.user_data.last_name),1)]),Object(c["createElementVNode"])("div",y,[t[3]||(t[3]=Object(c["createElementVNode"])("small",{class:"text-muted d-block"}," Email ",-1)),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(r.user_data.email),1)]),Object(c["createElementVNode"])("div",k,[t[4]||(t[4]=Object(c["createElementVNode"])("small",{class:"text-muted d-block"}," Date of Birth ",-1)),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(l.formatDate(r.user_data.birthday)),1)])]),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",x,[t[5]||(t[5]=Object(c["createElementVNode"])("small",{class:"text-muted d-block"}," Phone Number ",-1)),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(r.user_data.phone_number),1)]),Object(c["createElementVNode"])("div",C,[t[6]||(t[6]=Object(c["createElementVNode"])("small",{class:"text-muted d-block"},"Address ",-1)),Object(c["createElementVNode"])("div",{innerHTML:r.user_data.address},null,8,D)])])])])])])])]),Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("span",$,Object(c["toDisplayString"])(r.activity_total),1),Object(c["createVNode"])(n,{chartData:r.activityStatus,options:r.options,class:"user-chart"},null,8,["chartData","options"])])])])]))]),_:1}),Object(c["createVNode"])(c["Transition"],{name:"fade"},{default:Object(c["withCtx"])(()=>[r.edit_form?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",M,[Object(c["createVNode"])(d,{onEditForm:l.checkForm,onCheckData:l.checkProfile},null,8,["onEditForm","onCheckData"])])):Object(c["createCommentVNode"])("",!0)]),_:1}),Object(c["createVNode"])(c["Transition"],{name:"fade"},{default:Object(c["withCtx"])(()=>[r.edit_form?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",P,[Object(c["createVNode"])(i,{onCheckData:l.activityUpdate},null,8,["onCheckData"])]))]),_:1})])])}a("14d9");var F=a("92b8");const z={id:"activity"},U={class:"row mt-3 g-0"},I={class:"col-md-12 mx-0"},L={class:"card shadow"},Y={class:"card-body"},q={class:"row"},R={class:"col-md-6"},H={class:"card"},G={class:"card-body"},J={class:"row g-0"},W={class:"col-md-4 bg-ongoing p-3"},X={class:"module-name"},K={class:"border-top border-white module-category"},Q={class:"module-taken"},Z={class:"col-md-8 p-3"},ee={class:"module-progress"},te={class:"progress",style:{height:"8px"}},ae={class:"row module-outline"},ce={class:"col-6 mb-3 text-start"},oe={class:"col-6 text-end"},re={class:"module-part"},le=["onClick"],se={key:0,class:"text-center mt-3 text-muted"},ne={class:"col-md-6"},de={class:"card"},ie={class:"card-body"},me={class:"row g-0"},be={class:"col-md-4 bg-completed p-3"},ue={class:"module-name"},pe={class:"border-top border-white module-category"},Oe={class:"module-taken"},je={class:"col-md-8 p-3"},he={class:"module-progress"},ve={class:"progress",style:{height:"8px"}},Ve={class:"row module-outline"},Ne={class:"col-8 mb-3 text-start"},Ee={class:"col-4 text-end"},ge={class:"module-part"},fe={class:"float-md-start text-center mb-2"},we=["onClick"],ye={class:"float-md-end text-center"},ke=["onClick"],_e={key:0,class:"text-center mt-3 text-muted"};function xe(e,t,a,o,r,l){const s=Object(c["resolveComponent"])("vue-feather");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",z,[Object(c["createElementVNode"])("div",U,[Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("div",L,[Object(c["createElementVNode"])("div",Y,[t[7]||(t[7]=Object(c["createElementVNode"])("h4",null,"My Activity",-1)),Object(c["createElementVNode"])("div",q,[Object(c["createElementVNode"])("div",R,[Object(c["createElementVNode"])("div",H,[Object(c["createElementVNode"])("div",G,[t[1]||(t[1]=Object(c["createElementVNode"])("h6",{class:"text-center"},"Ongoing",-1)),t[2]||(t[2]=Object(c["createElementVNode"])("hr",{class:"mt-0"},null,-1)),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.module.ongoing,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"card card-module mb-3",key:e},[Object(c["createElementVNode"])("div",J,[Object(c["createElementVNode"])("div",W,[Object(c["createElementVNode"])("div",X,Object(c["toDisplayString"])(e.module_name),1),Object(c["createElementVNode"])("div",K,[Object(c["createElementVNode"])("small",null,Object(c["toDisplayString"])(e.category_name),1)]),Object(c["createElementVNode"])("div",Q,Object(c["toDisplayString"])(l.formatDate(e.taken_module)),1)]),Object(c["createElementVNode"])("div",Z,[Object(c["createElementVNode"])("div",ee,[Object(c["createElementVNode"])("div",te,[Object(c["createElementVNode"])("div",{class:"progress-bar",role:"progressbar",style:Object(c["normalizeStyle"])("width:"+e.percentage+"%"),"aria-valuemax":"100"},null,4)])]),Object(c["createElementVNode"])("div",ae,[Object(c["createElementVNode"])("div",ce,Object(c["toDisplayString"])(e.section_name),1),Object(c["createElementVNode"])("div",oe,Object(c["toDisplayString"])(Math.round(e.percentage))+" % ",1)]),Object(c["createElementVNode"])("div",re,Object(c["toDisplayString"])(e.current_part_name),1),Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-primary rounded-pill float-end mx-0",onClick:t=>l.continueModule(e.slug,e.outline_id)},[t[0]||(t[0]=Object(c["createTextVNode"])(" Continue ")),Object(c["createVNode"])(s,{type:"arrow-right",size:"18"})],8,le)])])]))),128)),0==r.module.ongoing_count?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",se," You haven't taken the module ")):Object(c["createCommentVNode"])("",!0)])])]),Object(c["createElementVNode"])("div",ne,[Object(c["createElementVNode"])("div",de,[Object(c["createElementVNode"])("div",ie,[t[5]||(t[5]=Object(c["createElementVNode"])("h6",{class:"text-center"},"Completed",-1)),t[6]||(t[6]=Object(c["createElementVNode"])("hr",{class:"mt-0"},null,-1)),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.module.completed,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"card card-module mb-3",key:e},[Object(c["createElementVNode"])("div",me,[Object(c["createElementVNode"])("div",be,[Object(c["createElementVNode"])("div",ue,Object(c["toDisplayString"])(e.module_name),1),Object(c["createElementVNode"])("div",pe,[Object(c["createElementVNode"])("small",null,Object(c["toDisplayString"])(e.category_name),1)]),Object(c["createElementVNode"])("div",Oe,Object(c["toDisplayString"])(l.formatDate(e.taken_date)),1)]),Object(c["createElementVNode"])("div",je,[Object(c["createElementVNode"])("div",he,[Object(c["createElementVNode"])("div",ve,[Object(c["createElementVNode"])("div",{class:"progress-bar bg-success",role:"progressbar",style:Object(c["normalizeStyle"])("width:"+e.percentage+"%"),"aria-valuemax":"100"},null,4)])]),Object(c["createElementVNode"])("div",Ve,[Object(c["createElementVNode"])("div",Ne,Object(c["toDisplayString"])(e.section_name),1),Object(c["createElementVNode"])("div",Ee,Object(c["toDisplayString"])(Math.round(e.percentage))+" % ",1)]),Object(c["createElementVNode"])("div",ge,Object(c["toDisplayString"])(e.current_part_name),1),Object(c["createElementVNode"])("div",fe,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-warning rounded-pill mx-0",onClick:t=>l.viewAnswer(e.slug)},[Object(c["createVNode"])(s,{type:"clipboard",class:"me-2",size:"20"}),t[3]||(t[3]=Object(c["createTextVNode"])(" View Answer "))],8,we)]),Object(c["createElementVNode"])("div",ye,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-primary rounded-pill mx-0",onClick:t=>l.continueModule(e.slug)},[Object(c["createVNode"])(s,{type:"book-open",class:"me-2",size:"20"}),t[4]||(t[4]=Object(c["createTextVNode"])(" Read Again "))],8,ke)])])])]))),128)),0==r.module.completed_count?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",_e," You haven't taken the module ")):Object(c["createCommentVNode"])("",!0)])])])])])])])])])}var Ce=a("4edd"),De=a("c1df"),Be=a.n(De),Te={name:"activity",components:{VueFeather:Ce["a"]},data(){return{user:[],module:{ongoing_count:"",ongoing:[],completed_count:"",completed:[]}}},methods:{formatDate(e){return Be()(e).format("LLL")},getOngoingModule(){this.$axios.get(this.$api_url+"act/latest/read",{headers:{Authorization:"Bearer "+this.user.token}}).then(e=>{console.log(e.data),this.module.ongoing_count=e.data.onprogress.length,this.module.ongoing=e.data.onprogress,this.module.completed_count=e.data.completed.length,this.module.completed=e.data.completed,this.$emit("check-data",this.module)}).catch(e=>{console.log(e)})},continueModule(e,t){t?this.$router.push({path:"/module/"+e+"/"+t}):this.$router.push({path:"/module/"+e})},viewAnswer(e){this.$router.push({path:"/user/module/answer/"+e})}},created(){this.user=this.$auth.user_data(),this.getOngoingModule()}},Se=(a("5f86"),a("6b0d")),$e=a.n(Se);const Me=$e()(Te,[["render",xe]]);var Pe=Me,Ae=a("9c87"),Fe=a("dd61");Fe["Chart"].register(Fe["DoughnutController"],Fe["ArcElement"],Fe["CategoryScale"],Fe["PointElement"],Fe["Title"],Fe["Tooltip"],Fe["Legend"]);var ze={name:"Profile",components:{DoughnutChart:Ae["DoughnutChart"],"v-edit":F["default"],"v-activity":Pe,VueFeather:Ce["a"]},data(){return{user:[],user_data:[],edit_form:!1,profile_picture:"",activity_total:0,activityStatus:{labels:["Ongoing","Completed"],datasets:[{label:"Activity Status",data:[3,1],backgroundColor:["#CC7A0E","#2C265E"]}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Activity Status"}}}}},methods:{editForm(){this.edit_form=!0},checkForm(e){this.edit_form=e},getProfile(){this.$axios.get(this.$api_url+"profile",{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then(e=>{this.user_data=e.data.data.user[0],this.checkImage()}).catch(e=>{console.log(e)})},checkImage(){this.user_data.profile_picture?this.profile_picture=this.$base_url+this.user_data.profile_picture:this.profile_picture="https://dummyimage.com/600x400/000/fff"},checkProfile(e){this.user_data=e},formatDate(e){return Be()(e).format("LL")},activityUpdate(e){this.activityStatus.datasets[0].data=[],this.activityStatus.datasets[0].data.push(e.ongoing_count),this.activityStatus.datasets[0].data.push(e.completed_count),this.activity_total=e.ongoing_count+e.completed_count,console.log(e)}},created(){this.user=this.$auth.user_data(),this.getProfile()}};a("0052");const Ue=$e()(ze,[["render",A]]);var Ie=Ue,Le=a("7f21"),Ye={name:"User Dahsboard",components:{"v-navbar":i["a"],"v-profile":Ie,"v-footer":Le["a"],VueFeather:Ce["a"]},data(){return{user:[],show:!1}},methods:{},created(){this.user=this.$auth.check(),setInterval(()=>{this.user=this.$auth.check()},36e5),setTimeout(()=>{this.show=!0},500),document.title="User Dashboard"}};a("0104");const qe=$e()(Ye,[["render",d]]);t["default"]=qe},"51a0":function(e,t,a){},5255:function(e,t,a){},"5f86":function(e,t,a){"use strict";a("51a0")},"7f94":function(e,t,a){},"866c":function(e,t,a){"use strict";a("288b")},"92b8":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o={id:"editProfile"},r={class:"container"},l={key:0,class:"row"},s={class:"col-md-3 mb-3"},n={class:"card shadow"},d={class:"card-body"},i=["src"],m={class:"col-md-9"},b={class:"card shadow"},u={class:"card-body"},p={class:"float-end",style:{"margin-top":"-30px"}},O={class:"dropstart"},j={class:"dropdown-menu","aria-labelledby":"setting"},h={class:"row"},v={class:"col-md-6 mb-3"},V={class:"col-md-6 mb-3"},N={class:"row"},E={class:"col-md-6 mb-3"},g={class:"col-md-6 mb-3"},f={key:0,class:"text-danger"},w={class:"row"},y={class:"col-md-12"},k={key:0,class:"text-danger"},_={class:"row"},x={class:"col-md-12"},C={class:"float-start"},D={key:0,class:"row justify-content-center"},B={class:"col-md-5"},T={class:"card shadow"},S={key:0,class:"card-body"},$={key:0,class:"text-danger"},M={key:1,class:"card-body"},P={class:"text-center"},A={class:"row justify-content-center"},F={class:"col-2"},z={class:"col-2"},U={class:"col-2"},I={class:"col-2"},L={class:"text-center mt-3 mb-3"},Y={key:0},q={key:1},R={key:0,class:"row justify-content-center"},H={class:"col-md-5"},G={class:"card shadow"},J={class:"card-body"},W={key:0,class:"text-danger"},X={class:"mb-2"},K={key:0,class:"text-danger"},Q={class:"mb-3"};function Z(e,t,a,Z,ee,te){const ae=Object(c["resolveComponent"])("vue-feather"),ce=Object(c["resolveComponent"])("vue-custom-tooltip"),oe=Object(c["resolveComponent"])("datepicker"),re=Object(c["resolveComponent"])("vue-tel-input"),le=Object(c["resolveComponent"])("editor");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(c["Transition"],{name:"fade"},{default:Object(c["withCtx"])(()=>["edit"==ee.page?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("img",{src:ee.preview,alt:"User Name",class:"user-picture"},null,8,i),Object(c["createElementVNode"])("input",{type:"file",class:"form-control",ref:"picture",onChange:t[0]||(t[0]=(...e)=>te.previewImage&&te.previewImage(...e))},null,544)])])]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",u,[t[32]||(t[32]=Object(c["createElementVNode"])("h5",{class:"my-0"},"Edit Profile",-1)),Object(c["createElementVNode"])("div",p,[Object(c["createVNode"])(ce,{label:"Setting"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",O,[Object(c["createVNode"])(ae,{type:"more-horizontal",id:"setting","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),Object(c["createElementVNode"])("ul",j,[Object(c["createElementVNode"])("li",{onClick:t[1]||(t[1]=e=>te.changeTo("email"))},t[23]||(t[23]=[Object(c["createElementVNode"])("a",{class:"dropdown-item",href:"#"},"Change Email",-1)])),Object(c["createElementVNode"])("li",{onClick:t[2]||(t[2]=e=>te.changeTo("password"))},t[24]||(t[24]=[Object(c["createElementVNode"])("a",{class:"dropdown-item",href:"#"},"Change Password",-1)]))])])]),_:1})]),t[33]||(t[33]=Object(c["createElementVNode"])("hr",{class:"mt-0"},null,-1)),Object(c["createElementVNode"])("form",{onSubmit:t[8]||(t[8]=Object(c["withModifiers"])((...e)=>te.updateProfile&&te.updateProfile(...e),["prevent"]))},[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",v,[t[25]||(t[25]=Object(c["createElementVNode"])("small",{class:"text-muted"}," First Name ",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>ee.user_data.first_name=e)},null,512),[[c["vModelText"],ee.user_data.first_name]])]),Object(c["createElementVNode"])("div",V,[t[26]||(t[26]=Object(c["createElementVNode"])("small",{class:"text-muted"}," Last Name ",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>ee.user_data.last_name=e)},null,512),[[c["vModelText"],ee.user_data.last_name]])])]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("div",E,[t[27]||(t[27]=Object(c["createElementVNode"])("small",{class:"text-muted"}," Birthday ",-1)),Object(c["createVNode"])(oe,{modelValue:ee.user_data.birthday,"onUpdate:modelValue":t[5]||(t[5]=e=>ee.user_data.birthday=e),inputFormat:"dd MMMM yyyy",class:"bday",readonly:"false",style:{"--vdp-bg-color":"#fff","--vdp-hover-bg-color":"#363caa","--vdp-selected-bg-color":"#e59c3d","--vdp-divider-color":"#363caa"}},null,8,["modelValue"])]),Object(c["createElementVNode"])("div",g,[t[28]||(t[28]=Object(c["createElementVNode"])("small",{class:"text-muted"}," Phone Number ",-1)),Object(c["createVNode"])(re,{value:ee.user_data.phone_number,onInput:te.onInput},null,8,["value","onInput"]),ee.error_form.phone_number?(Object(c["openBlock"])(),Object(c["createElementBlock"])("small",f,Object(c["toDisplayString"])(ee.error_form.phone_number[0]),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("div",y,[t[29]||(t[29]=Object(c["createElementVNode"])("small",{class:"text-muted"}," Address ",-1)),Object(c["createVNode"])(le,{modelValue:ee.user_data.address,"onUpdate:modelValue":t[6]||(t[6]=e=>ee.user_data.address=e),"api-key":"h7t62ozvqkx2ifkeh051fsy3k9irz7axx1g2zitzpbaqfo8m",init:{height:300,menubar:!0,inline:!1}},null,8,["modelValue"]),ee.error_form.address?(Object(c["openBlock"])(),Object(c["createElementBlock"])("small",k,Object(c["toDisplayString"])(ee.error_form.address[0]),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",x,[t[30]||(t[30]=Object(c["createElementVNode"])("hr",null,null,-1)),Object(c["createElementVNode"])("div",C,[Object(c["createElementVNode"])("button",{class:"btn btn-warning rounded-pill",type:"button",onClick:t[7]||(t[7]=(...e)=>te.cancelEdit&&te.cancelEdit(...e))}," Back to Dashboard ")]),t[31]||(t[31]=Object(c["createElementVNode"])("div",{class:"float-end"},[Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded-pill",type:"submit"}," Save Changes ")],-1))])])],32)])])])])):Object(c["createCommentVNode"])("",!0)]),_:1}),Object(c["createVNode"])(c["Transition"],{name:"fade"},{default:Object(c["withCtx"])(()=>["email"==ee.page?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",D,[Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("div",T,[ee.verification?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",S,[Object(c["createElementVNode"])("form",{onSubmit:t[10]||(t[10]=Object(c["withModifiers"])((...e)=>te.updateEmail&&te.updateEmail(...e),["prevent"]))},[t[34]||(t[34]=Object(c["createElementVNode"])("h5",{class:"text-center mb-4"},"Change Your Email",-1)),t[35]||(t[35]=Object(c["createElementVNode"])("small",{class:"text-muted"},"New Email",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>ee.email.email=e),class:"form-control"},null,512),[[c["vModelText"],ee.email.email]]),ee.email.error.email?(Object(c["openBlock"])(),Object(c["createElementBlock"])("small",$,Object(c["toDisplayString"])(ee.email.error.email[0]),1)):Object(c["createCommentVNode"])("",!0),t[36]||(t[36]=Object(c["createElementVNode"])("hr",null,null,-1)),t[37]||(t[37]=Object(c["createElementVNode"])("div",{class:"text-center"},[Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded-pill",type:"submit"}," Save Changes ")],-1))],32)])),ee.verification?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",M,[t[44]||(t[44]=Object(c["createElementVNode"])("h5",{class:"text-center mb-4"},"Verify Your Email",-1)),Object(c["createElementVNode"])("p",P,[Object(c["createTextVNode"])(" We emailed you the four digit code to "+Object(c["toDisplayString"])(ee.email.email)+". ",1),t[38]||(t[38]=Object(c["createElementVNode"])("br",null,null,-1)),t[39]||(t[39]=Object(c["createTextVNode"])(" Enter the code below to confirm your email address. "))]),Object(c["createElementVNode"])("div",A,[Object(c["createElementVNode"])("div",F,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[11]||(t[11]=e=>ee.code[0]=e)},null,512),[[c["vModelText"],ee.code[0]]])]),Object(c["createElementVNode"])("div",z,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[12]||(t[12]=e=>ee.code[1]=e)},null,512),[[c["vModelText"],ee.code[1]]])]),Object(c["createElementVNode"])("div",U,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[13]||(t[13]=e=>ee.code[2]=e)},null,512),[[c["vModelText"],ee.code[2]]])]),Object(c["createElementVNode"])("div",I,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control text-center",required:"",maxlength:"1","onUpdate:modelValue":t[14]||(t[14]=e=>ee.code[3]=e)},null,512),[[c["vModelText"],ee.code[3]]])]),Object(c["createElementVNode"])("div",L,[Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded-pill",onClick:t[15]||(t[15]=(...e)=>te.verifyCode&&te.verifyCode(...e))}," Submit "),t[43]||(t[43]=Object(c["createElementVNode"])("hr",null,null,-1)),0==ee.resend?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Y,[Object(c["createTextVNode"])(" Please wait "+Object(c["toDisplayString"])(ee.timerCount)+" seconds ",1),t[40]||(t[40]=Object(c["createElementVNode"])("br",null,null,-1)),t[41]||(t[41]=Object(c["createTextVNode"])(" to resend the verification code "))])):Object(c["createCommentVNode"])("",!0),1==ee.resend?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",q,[t[42]||(t[42]=Object(c["createTextVNode"])(" Resend the verification code ")),Object(c["createElementVNode"])("a",{class:"pointer",onClick:t[16]||(t[16]=(...e)=>te.updateEmail&&te.updateEmail(...e))},"here")])):Object(c["createCommentVNode"])("",!0)])])])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",{class:"mt-3 text-center",onClick:t[17]||(t[17]=e=>te.changeTo("edit"))},[Object(c["createVNode"])(ae,{type:"arrow-left"}),t[45]||(t[45]=Object(c["createTextVNode"])(" Back to Profile "))])])])):Object(c["createCommentVNode"])("",!0)]),_:1}),Object(c["createVNode"])(c["Transition"],{name:"fade"},{default:Object(c["withCtx"])(()=>["password"==ee.page?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",R,[Object(c["createElementVNode"])("div",H,[Object(c["createElementVNode"])("div",G,[Object(c["createElementVNode"])("div",J,[Object(c["createElementVNode"])("form",{onSubmit:t[21]||(t[21]=Object(c["withModifiers"])((...e)=>te.updatePassword&&te.updatePassword(...e),["prevent"]))},[t[48]||(t[48]=Object(c["createElementVNode"])("h5",{class:"text-center mb-4"},"Change Your Password",-1)),t[49]||(t[49]=Object(c["createElementVNode"])("small",{class:"text-muted"},"Old Password",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[18]||(t[18]=e=>ee.password.old_password=e)},null,512),[[c["vModelText"],ee.password.old_password]]),ee.password.error.old_password?(Object(c["openBlock"])(),Object(c["createElementBlock"])("small",W,Object(c["toDisplayString"])(ee.password.error.old_password[0]),1)):Object(c["createCommentVNode"])("",!0),t[50]||(t[50]=Object(c["createElementVNode"])("hr",null,null,-1)),Object(c["createElementVNode"])("div",X,[t[46]||(t[46]=Object(c["createElementVNode"])("small",{class:"text-muted"},"New Password",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[19]||(t[19]=e=>ee.password.new_password=e)},null,512),[[c["vModelText"],ee.password.new_password]]),ee.password.error.password?(Object(c["openBlock"])(),Object(c["createElementBlock"])("small",K,Object(c["toDisplayString"])(ee.password.error.password[0]),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",Q,[t[47]||(t[47]=Object(c["createElementVNode"])("small",{class:"text-muted"},"Confirmation Password",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[20]||(t[20]=e=>ee.password.confirm_password=e)},null,512),[[c["vModelText"],ee.password.confirm_password]])]),t[51]||(t[51]=Object(c["createElementVNode"])("hr",null,null,-1)),t[52]||(t[52]=Object(c["createElementVNode"])("div",{class:"text-center"},[Object(c["createElementVNode"])("button",{class:"btn btn-primary rounded-pill"}," Save Changes ")],-1))],32)])]),Object(c["createElementVNode"])("div",{class:"mt-3 text-center",onClick:t[22]||(t[22]=e=>te.changeTo("edit"))},[Object(c["createVNode"])(ae,{type:"arrow-left"}),t[53]||(t[53]=Object(c["createTextVNode"])(" Back to Profile "))])])])):Object(c["createCommentVNode"])("",!0)]),_:1})])])}var ee=a("24e7"),te=a("4edd"),ae=a("c1df"),ce=a.n(ae),oe={name:"edit profile",components:{datepicker:ee["a"],VueFeather:te["a"]},data(){return{user:[],user_data:[],page:"edit",verification:!1,resend:!1,timerCount:60,birthday:"",preview:"",password:{old_password:"",new_password:"",confirm_password:"",error:[]},email:{email:"",error:[]},code:[],error_form:[]}},methods:{previewImage(){var e=new FileReader;e.onload=e=>{this.preview=e.target.result},this.user_data.profile_picture=this.$refs["picture"].files[0],e.readAsDataURL(this.user_data.profile_picture)},cancelEdit(){this.$emit("edit-form",!1)},changeTo(e){this.page=e},countDownTimer(){this.timerCount>0?setTimeout(()=>{this.timerCount-=1,this.countDownTimer()},1e3):this.resend=!0},onInput(e,t){""!=e?null!==t&&void 0!==t&&t.formatted&&(this.user_data.phone_number=t.formatted):this.user_data.phone_number=""},getProfile(){this.$axios.get(this.$api_url+"profile",{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then(e=>{this.user_data=e.data.data.user[0],this.user_data.birthday=new Date(this.user_data.birthday),this.checkImage()}).catch(e=>{console.log(e)})},checkImage(){this.user_data.profile_picture?this.preview=this.$base_url+this.user_data.profile_picture:this.preview="https://dummyimage.com/600x400/000/fff"},updateProfile(){this.$alert.loading();const e=new FormData;e.append("first_name",this.user_data.first_name),e.append("last_name",this.user_data.last_name),e.append("birthday",ce()(this.user_data.birthday).format("YYYY-MM-DD")),e.append("phone_number",this.user_data.phone_number),e.append("address",this.user_data.address),e.append("profile_picture",this.user_data.profile_picture),this.$axios.post(this.$api_url+"profile",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then(e=>{e.data.success?(this.user_data=e.data.data.user,this.user_data.birthday=new Date(this.user_data.birthday),this.$emit("check-data",this.user_data),this.checkImage(),this.$alert.toast("success","Your profile has been updated")):this.$alert.toast("error",e.data.error)}).catch(e=>{this.$alert.close(),this.error_form=e.response.data.error})},updateEmail(){this.$alert.loading();const e=new FormData;e.append("email",this.email.email),this.$axios.post(this.$api_url+"request/email-change",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then(e=>{this.verification=!0,this.$alert.toast("success",e.data.message),this.timerCount=60,this.resend=!1,this.countDownTimer()}).catch(e=>{console.log(e.response),this.email.error=e.response.data.error})},verifyCode(){const e=this.code[0]+""+this.code[1]+this.code[2]+this.code[3];this.$axios.get(this.$api_url+"change/mail/"+e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then(e=>{e.data.success?(this.page="edit",this.verification=!1,this.code=[],this.email.email="",this.$alert.toast("success",e.data.message)):(this.$alert.toast("error",e.data.error),this.code=[])}).catch(e=>{console.log(e.response),this.email.error=e.response.data.error})},updatePassword(){const e=new FormData;e.append("old_password",this.password.old_password),e.append("password",this.password.new_password),e.append("password_confirmation",this.password.confirm_password),this.$axios.post(this.$api_url+"change/password",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then(e=>{this.page="edit",this.$alert.toast("success",e.data.message)}).catch(e=>{"object"==typeof e.response.data.error?this.password.error=e.response.data.error:this.$alert.toast("error",e.response.data.error)})}},created(){document.title="Edit Profile",this.user=this.$auth.user_data(),this.getProfile(),this.checkImage(),this.countDownTimer()}},re=(a("866c"),a("6b0d")),le=a.n(re);const se=le()(oe,[["render",Z]]);t["default"]=se},c3b1:function(e,t,a){},deae:function(e,t,a){"use strict";a("5255")}}]);
//# sourceMappingURL=chunk-74d63633.677565de.js.map