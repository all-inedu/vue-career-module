(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd3cf"],{8111:function(e,t,o){"use strict";o.r(t);var s=o("7a23");const r={id:"reset"},a={class:"container mt-5"},c={class:"row justify-content-center"},n={class:"col-md-5 mt-5"},i={class:"card"},l={class:"card-body"},d={class:"mb-2 mt-3"},p={class:"mb-2"},m=["type"],b={key:0,class:"login-error"},w={class:"mb-2"},j=["type"],O={key:0,class:"login-error"};function h(e,t,o,h,u,y){const f=Object(s["resolveComponent"])("unicon");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",r,[Object(s["createElementVNode"])("div",a,[Object(s["createElementVNode"])("div",c,[Object(s["createElementVNode"])("div",n,[Object(s["createElementVNode"])("form",{onSubmit:t[5]||(t[5]=Object(s["withModifiers"])((...e)=>y.resetProcess&&y.resetProcess(...e),["prevent"]))},[Object(s["createElementVNode"])("div",i,[t[11]||(t[11]=Object(s["createElementVNode"])("div",{class:"card-header text-center"},[Object(s["createElementVNode"])("h4",null,"Reset Password")],-1)),Object(s["createElementVNode"])("div",l,[t[9]||(t[9]=Object(s["createTextVNode"])(" Please enter your new password ")),Object(s["createElementVNode"])("div",d,[t[6]||(t[6]=Object(s["createElementVNode"])("label",{class:"login-label"}," E-mail",-1)),Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>u.reset.email=e),class:"form-control",readonly:""},null,512),[[s["vModelText"],u.reset.email]])]),Object(s["createElementVNode"])("div",p,[t[7]||(t[7]=Object(s["createElementVNode"])("label",{class:"login-label"},"New Password",-1)),Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:u.passwordType,"onUpdate:modelValue":t[1]||(t[1]=e=>u.reset.password=e),class:"form-control",placeholder:"Password"},null,8,m),[[s["vModelDynamic"],u.reset.password]]),Object(s["createElementVNode"])("div",{class:"login-icon pointer",onClick:t[2]||(t[2]=e=>y.visiblePassword("password"))},["password"==u.passwordType?(Object(s["openBlock"])(),Object(s["createBlock"])(f,{key:0,name:"eye-slash",fill:"royalblue"})):Object(s["createCommentVNode"])("",!0),"text"==u.passwordType?(Object(s["openBlock"])(),Object(s["createBlock"])(f,{key:1,name:"eye",fill:"royalblue"})):Object(s["createCommentVNode"])("",!0)]),u.error_reset.password?(Object(s["openBlock"])(),Object(s["createElementBlock"])("p",b,Object(s["toDisplayString"])(u.error_reset.password[0]),1)):Object(s["createCommentVNode"])("",!0)]),Object(s["createElementVNode"])("div",w,[t[8]||(t[8]=Object(s["createElementVNode"])("label",{class:"login-label"},"New Password Confirmation",-1)),Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:u.password_confirmationType,"onUpdate:modelValue":t[3]||(t[3]=e=>u.reset.password_confirmation=e),class:"form-control",placeholder:"Password Confirmation"},null,8,j),[[s["vModelDynamic"],u.reset.password_confirmation]]),Object(s["createElementVNode"])("div",{class:"login-icon pointer",onClick:t[4]||(t[4]=e=>y.visiblePassword("password_confirmation"))},["password"==u.password_confirmationType?(Object(s["openBlock"])(),Object(s["createBlock"])(f,{key:0,name:"eye-slash",fill:"royalblue"})):Object(s["createCommentVNode"])("",!0),"text"==u.password_confirmationType?(Object(s["openBlock"])(),Object(s["createBlock"])(f,{key:1,name:"eye",fill:"royalblue"})):Object(s["createCommentVNode"])("",!0)]),u.error_reset.password_confirmation?(Object(s["openBlock"])(),Object(s["createElementBlock"])("p",O,Object(s["toDisplayString"])(u.error_reset.password_confirmation[0]),1)):Object(s["createCommentVNode"])("",!0)]),t[10]||(t[10]=Object(s["createElementVNode"])("div",{class:"text-center my-3 mt-4"},[Object(s["createElementVNode"])("button",{class:"btn btn-allin",type:"submit"},"Reset")],-1))])])],32)])])])])}o("14d9");var u=o("3d20"),y=o.n(u),f={name:"Reset",data(){return{api_url:"https://api-cm.all-inedu.com/api/v1/",token:this.$route.params.token,passwordType:"password",password_confirmationType:"password",reset:{email:"",password:"",password_confirmation:""},error_reset:[]}},methods:{loading(){y.a.fire({title:"Please wait a minute"}),y.a.showLoading()},toast(e,t){const o=y.a.mixin({toast:!0,width:"32rem",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",y.a.stopTimer),e.addEventListener("mouseleave",y.a.resumeTimer)}});o.fire({icon:e,title:t})},visiblePassword(e){"password"==e?"text"==this.passwordType?this.passwordType="password":this.passwordType="text":"text"==this.password_confirmationType?this.password_confirmationType="password":this.password_confirmationType="text"},resetProcess(){this.loading(),this.$axios.post(this.$api_url+"password/reset/"+this.token,this.reset).then(()=>{this.toast("success","Your password has been changed"),this.$router.push({path:"/"})}).catch(e=>{y.a.close(),this.error_reset=e.response.data.error})}},created(){this.$axios.get(this.$api_url+"reset/"+this.token).then(e=>{this.reset.email=e.data.data.email}).catch(()=>{this.toast("warning","Token is invalid"),this.$router.push({path:"/"})})}},v=o("6b0d"),V=o.n(v);const k=V()(f,[["render",h]]);t["default"]=k}}]);
//# sourceMappingURL=chunk-2d0dd3cf.053a84cf.js.map